{"ver":"0.1","info":{"id":"Mss3zN","date":"1364802802","viewed":761,"name":"Cheap bokeh effect","username":"mromgwtf","description":"A simple bokeh-style blur inspired by a Photoshop filter.","likes":13,"published":1,"flags":0,"tags":[]},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"//cheap bokeh effect\n//by MrOMGWTF\n\nfloat stepsize = 0.0;\n\nvec2 stepdir(int n)\n{\n\tif(n == 0) return vec2(0.0, stepsize);\n\tif(n == 1) return vec2(0.0, -stepsize);\n\tif(n == 2) return vec2(stepsize, 0.0);\n\tif(n == 3) return vec2(-stepsize, 0.0);\t\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tstepsize = abs(sin(iTime * 0.67)) * (1.0 / 160.0);\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\n\tvec4 color = texture(iChannel0, uv);\n\t\n\tvec4 n1, n2, n3, n4, n5, n6, n7, n8;\n\tn1 = texture(iChannel0, uv + stepdir(0));\n\tn2 = texture(iChannel0, uv + stepdir(1));\n\tn3 = texture(iChannel0, uv + stepdir(2));\n\tn4 = texture(iChannel0, uv + stepdir(3));\n\t\n\tn5 = texture(iChannel0, uv + stepdir(0) * 2.0);\n\tn6 = texture(iChannel0, uv + stepdir(1) * 2.0);\n\tn7 = texture(iChannel0, uv + stepdir(2) * 2.0);\n\tn8 = texture(iChannel0, uv + stepdir(3) * 2.0);\n\t\n\t\t\n\tcolor = max(max(max(n1, n2), max(n3, n4)), max(max(n5, n6), max(n7, n8)));\n\t\n\tfragColor = color;\n}","name":"","description":"","type":"image"}]}