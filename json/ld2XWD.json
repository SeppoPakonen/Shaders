{"ver": "0.1", "info": {"id": "ld2XWD", "date": "1412380252", "viewed": 877, "name": "Cel shaderish", "username": "SvDvorak", "description": "Cel shader'y style, click and drag mouse horizontally to increase or decrease shading. Uses Sobel operator with some ugly code.", "likes": 8, "published": 1, "flags": 0, "tags": ["edge", "comic"], "requires": ["texture", "videobuf", "imagebuf"]}, "renderpass": [{"inputs": [{"id": "4sX3Rn", "filepath": "/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv", "previewfilepath": "/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv", "type": "video", "channel": 0, "sampler": {"filter": "linear", "wrap": "clamp", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 1}], "outputs": [], "code": "float GetTexture(float x, float y)\n{\n    return texture(iChannel0, vec2(x, y) / iResolution.xy).x;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float threshold = iMouse.x / iResolution.x;\n    \n    if(iMouse.x == 0.0) // Browse preview\n    {\n        threshold = 0.2;\n    }\n    \n    float x = fragCoord.x;\n    float y = fragCoord.y;\n    \n    float xValue = -GetTexture(x-1.0, y-1.0) - 2.0*GetTexture(x-1.0, y) - GetTexture(x-1.0, y+1.0)\n        + GetTexture(x+1.0, y-1.0) + 2.0*GetTexture(x+1.0, y) + GetTexture(x+1.0, y+1.0);\n    float yValue = GetTexture(x-1.0, y-1.0) + 2.0*GetTexture(x, y-1.0) + GetTexture(x+1.0, y-1.0)\n        - GetTexture(x-1.0, y+1.0) - 2.0*GetTexture(x, y+1.0) - GetTexture(x+1.0, y+1.0);\n    \n    if(length(vec2(xValue, yValue)) > threshold)\n    {\n        fragColor = vec4(0);\n    }\n    else\n    {\n        vec2 uv = vec2(x, y) / iResolution.xy;\n    \tvec4 currentPixel = texture(iChannel0, uv);\n        fragColor = currentPixel;\n    }\n}", "name": "", "description": "", "type": "image"}]}