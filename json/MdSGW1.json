{"ver":"0.1","info":{"id":"MdSGW1","date":"1386897582","viewed":1879,"name":"Lightning spark","username":"kig","description":"Tinkering with a lightning effect. A particle seeks out a random path from cloud to ground, then the ground fills the path with electric fury...","likes":34,"published":1,"flags":0,"tags":[]},"renderpass":[{"inputs":[{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 o = vec2(iResolution.x/2.0, iResolution.y*0.9);\n\tvec2 d = vec2(0.0, -1.0);\n\tvec2 uv = fragCoord.xy;\n\tvec3 col = vec3(0.0);\n\tfor (int i=0; i<100; i++) {\n\t\tvec4 tex = texture(iChannel0, vec2(float(i)/256.0, iTime), -100.0);\n\t\tvec2 tgt = vec2(iResolution.x/2.0, iResolution.y*0.1)-o;\n\t\tvec2 seek = normalize(tgt)*(16.0/(length(tgt)+1.0));\n\t\td = normalize(seek+vec2(1.5, -1.0)*(vec2(-0.5, 0.0)+tex.gb));\n\t\tfloat len = min(length(tgt), 9.0 * (tex.r+0.1));\n\t\tfloat dist = abs(dot(o-uv, d.yx*vec2(1.0,-1.0)));\n\t\to += d*len;\n\t\tif (dist < 1.5 && length(o-uv) < len*0.75) {\n\t\t\tcol = vec3(1.0);\n\t\t\tbreak;\n\t\t}\n\t}\n\tfragColor = vec4(col, 0.0);\n}","name":"","description":"","type":"image"}]}