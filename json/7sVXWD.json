{"ver": "0.1", "info": {"id": "7sVXWD", "date": "1634685455", "viewed": 145, "name": "Fbm [Salt-Stained-blue-gold]", "username": "Yusef28", "description": "Another fbm experiment using all the most rudimentary functions.", "likes": 11, "published": 3, "flags": 0, "usePreview": 0, "tags": [], "requires": ["imagebuf"]}, "renderpass": [{"inputs": [], "outputs": [{"id": "4dfGRr", "channel": 0}], "code": "float noise(vec2 st){\n    return fract(sin(dot(vec2(12.23,74.343),st))*43254.);  \n}\n\n#define pi acos(-1.)\nfloat noise2D(vec2 st){\n  \n  //id,fract\n  vec2 id =floor(st);\n  vec2 f = fract(st);\n  \n  //nachbarn\n  float a = noise(id);\n  float b = noise(id + vec2(1.,0.));\n  float c = noise(id + vec2(0.,1.));\n  float d = noise(id + vec2(1.));\n  \n  \n  //f\n  f = smoothstep(0.,1.,f);\n  \n  //mix\n  float ab = mix(a,b,f.x);\n  float cd = mix(c,d,f.x);\n  return mix(ab,cd,f.y);\n}\n\nmat2 rot45 = mat2(0.707,-0.707,0.707,0.707);\n\nmat2 rot(float a){\n  float s = sin(a); float c = cos(a);\n  return mat2(c,-s,s,c);\n}\nfloat fbm(vec2 st, float N, float rt){\n    st*=3.;\n \n  float s = .5;\n  float ret = 0.;\n  for(float i = 0.; i < N; i++){\n     \n      ret += noise2D(st)*s; st *= 2.9; s/=2.; st *= rot((pi*(i+1.)/N)+rt*8.);\n      //st.x += iTime;\n  }\n  return ret;\n  \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec2 uv = (fragCoord.xy - iResolution.xy*0.5)/iResolution.y;\n\n\n  uv.x += iTime*0.14;\n  float fa1 = fbm(uv*rot(sin(uv.x)*0.001) ,5., 3.);\n  float fb1 = fbm(uv ,5., 5.);\n  \n  float fa2 = fbm(uv+sin(uv.x*15.) + fa1*5. ,4., 8.);\n  float fb2 = fbm(uv + fb1 , 5., 6.);\n \n  float fa3 = fbm(uv*1.5 + fa2 ,5., 1.);\n  float fb3 = fbm(uv + fa2, 3., 2.);\n  \n  vec3 col = vec3(0);\n  float circle = (fa3);\n  \n  //salt stained marble thing\n  //metal blue\n  col=mix(col,vec3(0.1,0.3,0.6),pow(fa3*2.4,1.5));\n  \n  //metal red\n  col=mix(col,vec3(0.9,0.3,0.3),clamp(pow(fb2*.7,1.9),0.,1.));\n  \n  //black\n  //col=mix(col,vec3(0.,0.,0.),clamp(pow(fa2*2.,9.),0.,1.)*0.3);\n  \n  //gold\n  col=mix(col,vec3(0.9,0.6,0.3),clamp(pow(fa2*1.5,20.)*0.7,0.,1.));\n  \n  //black\n col=mix(col,vec3(0.),clamp(pow(fb1*1.6,1.)*0.8,0.,1.));\n  \n  //white\n  col=mix(col,vec3(0.99),clamp(pow(fb2*1.4-0.05,20.),0.,1.));\n \n  col.yz *= rot(-0.12);\n \n \n\n fragColor = vec4(col,1.);\n}", "name": "Image", "description": "", "type": "image"}]}