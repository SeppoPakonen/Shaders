{"ver": "0.1", "info": {"id": "Xs2GRw", "date": "1385204917", "viewed": 326, "name": "I want to pixelate Shirley Jones", "username": "gordo", "description": "This has probably been done to death, but I really wanted to post something here.", "likes": 4, "published": 1, "flags": 0, "tags": ["pixelat"], "requires": ["texture", "videobuf", "imagebuf"]}, "renderpass": [{"inputs": [{"id": "4df3zn", "filepath": "/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv", "previewfilepath": "/media/ap/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv", "type": "video", "channel": 0, "sampler": {"filter": "linear", "wrap": "clamp", "vflip": "false", "srgb": "false", "internal": "byte"}, "published": 1}], "outputs": [], "code": "// Ed Markowski 2013\n// Use the slider to adjust pixelation of texture.\nbool inBox(vec2 lowLeft, vec2 topRight)\n{\n\treturn fragCoord.x >= lowLeft.x && fragCoord.x <= topRight.x\n\t\t&& fragCoord.y >= lowLeft.y && fragCoord.y <= topRight.y;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat offset0 = iResolution.y/25.0;\n\t\n\tfloat myMouseX = (iResolution.x - iMouse.x)/4.0;\n\tif (myMouseX > iResolution.x-offset0) myMouseX = iResolution.x-offset0;\n\tif (myMouseX < offset0) myMouseX = offset0;\n\t\n\tfloat texWidth = iChannelResolution[0].x;\n\tfloat block = (myMouseX/iResolution.x)*texWidth;\n\tif (0.0 == block) block = 1.0;\n\t\n\tif (texWidth <= block || iMouse.x < offset0)\n\t\tfragColor = texture(iChannel0, fragCoord.xy/iResolution.xy);\n\telse\n\t{\n\t\tvec2 tex;\n\t\tvec2 k = iChannelResolution[0].xy/block;\n\t\tvec2 rem = vec2(mod(fragCoord.x, floor(k.x)), mod(fragCoord.y, floor(k.y)));\n\t\ttex.s = (0.0 != rem.x) ? fragCoord.x + k.x - rem.x : fragCoord.x;\n\t\ttex.t = (0.0 != rem.y) ? fragCoord.y + k.y - rem.y : fragCoord.y;\n\t\ttex.st = (tex.st - 0.5*k.xy)/iResolution.xy;\n\t\tfragColor= texture(iChannel0, clamp(tex.st, vec2(0.0), vec2(1.0)));\n\t}\n\t\n\tfloat offset1 = offset0-iResolution.y/90.0;\n\tfloat scrollerHeight = iResolution.y/25.0;\n\t\n\t// layer 1\n\tvec2 lL = vec2(offset1, offset1);\n\tvec2 tR = vec2(iResolution.x-offset1, offset1+0.5*scrollerHeight);\n\tif (inBox(lL, tR)) fragColor = (fragCoord.x < iMouse.x) ? vec4(1.0) : vec4(0.5);\n}", "name": "", "description": "", "type": "image"}]}