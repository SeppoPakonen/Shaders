{"ver": "0.1", "info": {"id": "MdSGRh", "date": "1383373352", "viewed": 1174, "name": "Drunk Dial", "username": "moskow23", "description": "Uses webcam, make sure you allow access in browser.  Caution: Might make you ill!", "likes": 14, "published": 1, "flags": 2, "tags": ["cam", "run"], "requires": ["webcambuf", "imagebuf"]}, "renderpass": [{"inputs": [{"id": "4sf3zn", "filepath": "/presets/webcam.png", "previewfilepath": "/presets/webcam.png", "type": "webcam", "channel": 0, "sampler": {"filter": "linear", "wrap": "clamp", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 1}], "outputs": [], "code": "void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\t// Just playing around with shaders for my first time.\n\t// Pardon the unoptimized mess.\n\t// -Dan\n\tfloat drunk = sin(iTime*2.0)*6.0;\n\tfloat unitDrunk1 = (sin(iTime*1.2)+1.0)/2.0;\n\tfloat unitDrunk2 = (sin(iTime*1.8)+1.0)/2.0;\n\n\tvec2 normalizedCoord = mod((fragCoord.xy + vec2(0, drunk)) / iResolution.xy, 1.0);\n\tnormalizedCoord.x = pow(normalizedCoord.x, mix(1.25, 0.85, unitDrunk1));\n\tnormalizedCoord.y = pow(normalizedCoord.y, mix(0.85, 1.25, unitDrunk2));\n\n\tvec2 normalizedCoord2 = mod((fragCoord.xy + vec2(drunk, 0)) / iResolution.xy, 1.0);\t\n\tnormalizedCoord2.x = pow(normalizedCoord2.x, mix(0.95, 1.1, unitDrunk2));\n\tnormalizedCoord2.y = pow(normalizedCoord2.y, mix(1.1, 0.95, unitDrunk1));\n\n\tvec2 normalizedCoord3 = fragCoord.xy/iResolution.xy;\n\t\n\tvec4 color = texture(iChannel0, normalizedCoord);\t\n\tvec4 color2 = texture(iChannel0, normalizedCoord2);\n\tvec4 color3 = texture(iChannel0, normalizedCoord3);\n\n\t// Mess with colors and test swizzling\n\tcolor.x = sqrt(color2.x);\n\tcolor2.x = sqrt(color2.x);\n\t\n\tvec4 finalColor = mix( mix(color, color2, mix(0.4, 0.6, unitDrunk1)), color3, 0.4);\n\t\n\t// \n\tif (length(finalColor) > 1.4)\n\t\tfinalColor.xy = mix(finalColor.xy, normalizedCoord3, 0.5);\n\telse if (length(finalColor) < 0.4)\n\t\tfinalColor.yz = mix(finalColor.yz, normalizedCoord3, 0.5);\n\t\t\n\tfragColor = finalColor;\t\t\n}\n", "name": "", "description": "", "type": "image"}]}