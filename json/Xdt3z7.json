{"ver": "0.1", "info": {"id": "Xdt3z7", "date": "1448670140", "viewed": 253, "name": "BinaryTreeAnim", "username": "jt", "description": "A growing binary tree with polar-coordinates.", "likes": 12, "published": 1, "flags": 0, "tags": ["animated"], "requires": ["imagebuf"]}, "renderpass": [{"inputs": [], "outputs": [], "code": "// Animated (growing) Binary Tree variant with (almost) fix line-size - written 2015 by Jakob Thomsen\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n#define pi 3.1415926\n\n#define mirror(v) abs(2. * fract(v / 2.) - 1.)\n\nfloat C01(float v)\n{\n    v += .25;\n    float w = abs(2. * fract(v*2.) - 1.);\n    return 0.5 + 0.5 * sign(.5-fract(v))*(1.-w*w);\n}\n/*\nfloat c01(float v)\n{\n    return 0.5 + 0.5 * cos(2.0 * 3.1415926 * v);\n}\n*/\nvoid mainImage( out vec4 o, in vec2 U )\n//void mainImage( inout vec4 o, vec2 U ) // ERROR: overloaded functions must have the same parameter qualifiers\n{\n    U /= iResolution.xy;\n    U = 2.*U-1.;\n    U.y += 1.1;\n    U *= .5;\n    U.x *= iResolution.x / iResolution.y;\n    U.xy = U.yx;\n    U = vec2(atan(U.y, U.x) / pi, length(U));\n    //U.x *= .5;\n    //U.y = 2./(2.-U.y) - 1.;\n    U.y = 1.-log2(2.-U.y);\n    float y = (1.-U.y);\n    float n = 7.;\n    //float t = (1.-mirror(iTime*.1));\n    float t = .9*(1.-C01(iTime*.05));\n    float f = n*t;\n    U.y *= n;//f;\n    //U.x = .5+.5*clamp((2.*U.x-1.)/t,-1.,1.);\n    U.x = clamp((2.*U.x+t/2.)/t,0.,1.);\n    U.x *= exp2(ceil(U.y))/2.;\n    U = fract(U);\n    o -= o;\n    //o += 1. - smoothstep(0., n*(.02 - .01 * U.y)/t, abs(4. * abs(U.x - .5) - C01(.5 * (U.y + 1.0)))); // \"plant\"\n    o += 1. - smoothstep(0., n*(.02 - .01 * U.y)/y/t, abs(4. * abs(U.x - .5) - C01(.5 * (U.y + 1.0)))); // fixed size\n    o *= smoothstep(n-f-.1,n-f,y * n);\n}\n", "name": "", "description": "", "type": "image"}]}