{"ver":"0.1","info":{"id":"lltBWX","date":"1541389559","viewed":101,"name":"Port of Loki library for RNG","username":"mackycheese21","description":"Port of https://github.com/YoussefV/Loki/ from MSL to GLSL.\nMakes it really easy to create as many random numbers as you want - us the uv coordinates to seed the random from a texture, then just call a function to get a random number in the range 0 to 1. ","likes":1,"published":1,"flags":0,"tags":[]},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv=fragCoord.xy/iResolution.xy;\n    uint seedX=uint(fragCoord.x);\n    uint seedY=uint(fragCoord.y);\n    uint seedZ=uint(iFrame);\n    initRandom(seedX,seedY,seedZ);\n    \n    fragColor = vec4(getRand(),getRand(),getRand(),1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"float randSeed;\n\nuint tausStep(uint z,int s1,int s2,int s3,uint M){\n    uint b=(((z << s1) ^ z) >> s2);\n    return (((z & M) << s3) ^ b);\n}\n\nvoid initRandom(uint seed1,uint seed2,uint seed3){\n    uint seed = seed1 * 1099087573U;\n    uint seedb = seed2 * 1099087573U;\n    uint seedc = seed3 * 1099087573U;\n\n    // Round 1: Randomise seed\n    uint z1 = tausStep(seed,13,19,12,429496729U);\n    uint z2 = tausStep(seed,2,25,4,4294967288U);\n    uint z3 = tausStep(seed,3,11,17,429496280U);\n    uint z4 = (1664525U*seed + 1013904223U);\n\n    // Round 2: Randomise seed again using second seed\n    uint r1 = (z1^z2^z3^z4^seedb);\n\n    z1 = tausStep(r1,13,19,12,429496729U);\n    z2 = tausStep(r1,2,25,4,4294967288U);\n    z3 = tausStep(r1,3,11,17,429496280U);\n    z4 = (1664525U*r1 + 1013904223U);\n\n    // Round 3: Randomise seed again using third seed\n    r1 = (z1^z2^z3^z4^seedc);\n\n    z1 = tausStep(r1,13,19,12,429496729U);\n    z2 = tausStep(r1,2,25,4,4294967288U);\n    z3 = tausStep(r1,3,11,17,429496280U);\n    z4 = (1664525U*r1 + 1013904223U);\n\n    randSeed = float(z1^z2^z3^z4) * 2.3283064365387e-10;\n}\n\nfloat getRand(){\n    uint hashed_seed = uint(randSeed * float(1099087573U));\n\n    uint z1 = tausStep(hashed_seed,13,19,12,429496729U);\n    uint z2 = tausStep(hashed_seed,2,25,4,4294967288U);\n    uint z3 = tausStep(hashed_seed,3,11,17,429496280U);\n    uint z4 = (1664525U*hashed_seed + 1013904223U);\n\n    float old_seed = randSeed;\n\n    randSeed = float(z1^z2^z3^z4) * 2.3283064365387e-10;\n\n    return old_seed;\n}","name":"Common","description":"","type":"common"}]}