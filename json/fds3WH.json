{"ver":"0.1","info":{"id":"fds3WH","date":"1615878631","viewed":187,"name":"metaball loading animation","username":"hanker","description":"\u672c\u6765\u60f3\u7740\u8bd5\u7740\u505a\u4e00\u4e2aloading\u7684\u6548\u679c\uff0c\u540e\u9762\u52a0\u4e86\u4e00\u70b9metaball\u7684\u5b9e\u73b0\uff0c\u4e3b\u8981\u662f\u5361\u5728\u6bcf\u4e2a\u7403\u5bf9\u989c\u8272\u7684\u5f71\u54cd\uff0c\u5e0c\u671b\u7403\u5b8c\u5168\u91cd\u5408\u4e4b\u540e\u53d8\u6210\u989c\u8272\u7684\u7d2f\u52a0\u800c\u975e\u8986\u76d6","likes":1,"published":3,"flags":0,"usePreview":0,"tags":[]},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//\u5706\u7684\u7b49\u52bf\u9762\n#define PI 3.1415\nfloat metaCircle(vec2 uv,vec2 center,float radius){\n    float offsetX = uv.x - center.x;\n    float offsetY = uv.y - center.y;\n    return sqrt((radius * radius) / (offsetX * offsetX + offsetY * offsetY));\n}\nfloat meta(vec2 uv,vec3 c1,vec3 c2){\n    float m1 = metaCircle(uv,c1.xy,c1.z);\n    float m2 = metaCircle(uv,c2.xy,c2.z);\n    return m1 + m2;\n}\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord){\n    vec2 uv = fragCoord / iResolution.xy * 2. - 1.;\n    uv.y *= iResolution.y / iResolution.x;\n\n  \n    vec2 cA = vec2(.6 * sin(iTime ),0.);\n    vec2 cB = vec2(.6 * sin(iTime + PI * .5),0.);\n    vec2 cC = vec2(.6 * sin(iTime + PI) ,0.);\n\n    float r1 = .1 + .05 * cos(iTime);\n    float r2 = .1 + .05 * cos(iTime + PI * .5);\n    float r3 = .1 + .05 * cos(iTime + PI);\n\n    vec3 colorA = vec3(1.,0.,0.);\n    vec3 colorB = vec3(0.,1.,0.);\n    vec3 colorC = vec3(0.,0.,1.);\n\n    float perA = metaCircle(uv,cA,r1);\n    float perB = metaCircle(uv,cB,r2);\n    float perC = metaCircle(uv,cC,r3);\n    \n    float m = perA + perB + perC;\n    m = smoothstep(.9,1.,m);\n\n    //\u8ba1\u7b97\u4e86\u4e00\u4e0b\u53d7\u5230\u5404\u4e2a\u7403\u989c\u8272\u7684\u5f71\u54cd\n    //TODO \u8fd9\u4e2a\u5730\u65b9\u6709\u95ee\u9898\uff0c\u80fd\u52c9\u5f3a\u6709\u6548\u679c\n    float effect1 = length(uv - cA) > r1 ? perA * 2.5 : 1.;\n    float effect2 = length(uv - cB) > r2 ? perB * 2.5 :  1.;\n    float effect3 = length(uv - cC) > r3 ? perC * 2.5 :  1.;\n\n    vec3 col = ((colorA * effect1 ) + (colorB * effect2) + (colorC * effect3)) * m;\n\n    fragColor = vec4(col,1.);\n   \n}","name":"Image","description":"","type":"image"}]}