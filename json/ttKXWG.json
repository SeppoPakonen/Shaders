{"ver":"0.1","info":{"id":"ttKXWG","date":"1583519871","viewed":137,"name":"Savanna biome","username":"jarble","description":"This fractal looks like a savanna.","likes":1,"published":3,"flags":0,"tags":[]},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n//This parameter changes the magnification.\nconst float mag = 9.0;\n\nconst float GREEN = 0.0;\nconst float BLUE = 1.0;\nconst float GRAY = 2.0;\nconst float YELLOW = 3.0;\nconst float WHITE = 4.0;\nconst float FOREST_GREEN = 5.0;\n\n//this function is from https://www.shadertoy.com/view/4djSRW\nfloat hash12(vec2 p)\n{\n    float num_colors = 6.0;\n    //set the number of colors to be randomly generated\n    \n    vec3 p3  = fract(vec3(p.xyx) * .1031);\n    p3 += dot(p3, p3.yzx + 33.33);\n    return floor(fract((p3.x + p3.y) * p3.z)*num_colors);\n}\nfloat magnify(vec2 fragCoord,float mag){\n    return hash12(floor(fragCoord/pow(3.0,mag)));\n}\n\nbool is_above(vec2 fragCoord,float mag,float color){\n\treturn magnify(fragCoord,mag) == color;\n}\n\nbool is_surrounded_by(vec2 fragCoord,float mag,float color){\n\treturn magnify(fragCoord+vec2(0,1),mag) == color\n        && magnify(fragCoord+vec2(1,0),mag) == color\n        && magnify(fragCoord-vec2(0,1),mag) == color\n        && magnify(fragCoord-vec2(1,0),mag) == color;\n}\n\nbool is_next_to(vec2 fragCoord,float mag,float color){\n\treturn magnify(fragCoord+vec2(0,1),mag) == color\n        || magnify(fragCoord+vec2(1,0),mag) == color\n        || magnify(fragCoord-vec2(0,1),mag) == color\n        || magnify(fragCoord-vec2(1,0),mag) == color;\n}\n\nvec3 rgb(float r,float g,float b){\n\treturn vec3(r,g,b)/255.0;\n}\n\nvec3 get_color(float color){\n    if(color == BLUE){\n    \treturn vec3(0.149,0.141,0.912);\n   \t}\n    else if(color == GREEN){\n    \treturn vec3(0.000,0.833,0.224);\n   \t}\n    else if(color == FOREST_GREEN){\n    \treturn rgb(34.0,139.0,34.0);\n   \t}\n    else if(color == WHITE){\n    \treturn vec3(1.0,1.0,1.0);\n   \t}\n    else if(color == GRAY){\n    \treturn vec3(192.0,192.0,192.0)/255.0;\n    }\n    else if(color == YELLOW){\n    \treturn vec3(1.0,1.0,0.0);\n   \t}\n}\nfloat savanna_biome(in vec2 fragCoord,float mag){\n    float[] colors = float[](GREEN,BLUE,GRAY,YELLOW,FOREST_GREEN);\n    float color1 = magnify(fragCoord,mag);\n    while(mag > 1.0){\n    if(color1 == GREEN && is_next_to(fragCoord,mag,GRAY)){\n    \tcolor1 = YELLOW;\n    }\n    else if(color1 == YELLOW && is_next_to(fragCoord,mag,GRAY)){\n    \tcolor1 = FOREST_GREEN;\n    }\n\n    else if(color1 == GRAY){\n        color1 = GREEN;\n    }\n    else if(color1 == BLUE && is_next_to(fragCoord,mag,GREEN)){\n        color1 = GREEN;\n    }\n\n    else if(color1 == FOREST_GREEN && is_next_to(fragCoord,mag,GREEN)){\n        color1 = GREEN;\n    }\n    mag -= 1.0;\n    }\n    return colors[int(color1)];\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragCoord *= mag;\n    fragCoord = fragCoord + floor(iTime*100.0)*vec2(mag,0.0);\n\n    //choose the biome here\n\tfloat biome =\n    \tsavanna_biome\n    (fragCoord,mag);\n    \n    fragColor = vec4(get_color(biome),1.0);\n}","name":"Image","description":"","type":"image"}]}