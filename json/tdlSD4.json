{"ver":"0.1","info":{"id":"tdlSD4","date":"1551313922","viewed":69,"name":"Happy accidents","username":"uada","description":"Just a happy accident, still new","likes":1,"published":1,"flags":0,"tags":[]},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float hash( vec2 p ) {\n\tfloat h = dot(p,vec2(127.1,311.7));\t\n    return fract(sin(h)*43758.5453123);\n}\nfloat noise( in vec2 p ) {\n    vec2 i = floor( p );\n    vec2 f = fract( p );\t\n\tvec2 u = f*f*(3.0-2.0*f);\n    return -1.0+2.0*mix( mix( hash( i + vec2(0.0,0.0) ), \n                     hash( i + vec2(1.0,0.0) ), u.x),\n                mix( hash( i + vec2(0.0,1.0) ), \n                     hash( i + vec2(1.0,1.0) ), u.x), u.y);\n} \n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n\n    float s = 15. + sin(iTime/3.) * 5.;\n    \n    vec2 center = vec2(0.);\n    vec3 col = vec3(0);\n\n    for (float i = 0.0; i < 1.0; i += 0.1){\n        // fake flare \n    \tcenter += vec2(i);\n        \n    \tuv*=1.5;\n\n    \tvec2 uv_c = uv - center;\n    \tfloat dist = length(uv_c);\n    \n    \tuv_c = normalize(uv_c);\n    \n    \tfloat a = atan(uv_c.y,uv_c.x);\n    \n    \tfloat xo = map(cos(a+(iTime/7245.)),-1.,1.,-s,s);\n    \tfloat yo = map(sin(a+(iTime)),-1.,1.,-s,s);\n\n    \tfloat r = map(noise(vec2(xo,yo)),0.,1.,0.65,0.7);\n    \n    \tvec2 nv = vec2(r * cos(a),r*sin(a));\n    \n    \tcol += smoothstep(r,r-0.08,dist);\n    \n\t    //col *= 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n    \tvec3 col1 = 0.7 + 0.3*cos(iTime+uv.xyx+vec3(4,2,1));\n    \tvec3 col2 = 0.7 + 0.3*sin(iTime+uv.xyx+vec3(1,2,4));\n    \tcol1 *= col2;\n    \tcol *= col1;\n    }\n    uv*=.05;\n\tvec2 suv = uv;\n    \n    if (uv.y < -0.4 + sin(uv.x+iTime) * 0.1)\n    {\n        uv.y *=-.31;\n        uv.x *= sin((suv.y/.1)+iTime*5.)*.1 + 1.1;\n    }\n    center = vec2(0.);\n    \n    vec2 uv_c = uv - center;\n    float dist = length(uv_c);\n    \n    uv_c = normalize(uv_c);\n    \n    float a = atan(uv_c.y,uv_c.x);\n    \n    float xo = map(cos(a+(iTime/7245.)),-1.,1.,-s,s);\n    float yo = map(sin(a+(iTime)),-1.,1.,-s,s);\n\n    float r = map(noise(vec2(xo,yo)),0.,1.,0.595,0.7);\n    \n    vec2 nv = vec2(r * cos(a),r*sin(a));\n    \n    col += smoothstep(r,r-0.08,dist);\n    \n    uv=suv;\n    \n    if (uv.y < -0.4 + sin(uv.x+iTime) * 0.1)\n    {\n        col = mix(vec3(0.5,0.50,0.97)+ cos(uv.x+(iTime)*3.) * 0.1212\n            + sin(uv.y*30.+sin(iTime)) * 0.01212,col,0.351);\n    }\n    else\n    {\n        col += vec3(0.86,0.6321,0.12) + sin(iTime) * 0.02;\n    }\n    fragColor = vec4(vec3(col),1.0);\n}","name":"Image","description":"","type":"image"}]}