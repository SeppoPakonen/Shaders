{"ver": "0.1", "info": {"id": "WssyRS", "date": "1585036370", "viewed": 36, "name": "Pencil + Black&White", "username": "PoetLuchnik", "description": "What wrong?", "likes": 3, "published": 1, "flags": 0, "tags": ["pencil"], "requires": ["texture", "videobuf", "imagebuf"]}, "renderpass": [{"inputs": [{"id": "XdfGRr", "filepath": "/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm", "previewfilepath": "/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm", "type": "video", "channel": 0, "sampler": {"filter": "linear", "wrap": "clamp", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 1}], "outputs": [{"id": "4dfGRr", "channel": 0}], "code": "#define M_2PI 6.28318530718\n#define SEEK_RADIUS 0.005\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 xy = fragCoord / iResolution.xy;\n    vec2 ps = vec2(1.0, 1.0) / iResolution.xy; //Pixel Size\n\tvec3 col = texture(iChannel0, xy).rgb;\n    vec3 sum = vec3(0.0);\n    float colCount = 0.0;\n   \t//Counting sum (around):\n    for(float len = 0.001; len < SEEK_RADIUS; len += 0.001)\n    \tfor(float angle = 0.0; angle < M_2PI; angle += 0.1)\n        {\n            float x = xy.x + len * cos(angle);\n            float y = xy.y + len * sin(angle);\n            \n            sum += texture(iChannel0, vec2(x, y)).rgb;\n            colCount += 1.0;\n        }\n\t//Average surrounding color:\n    vec3 averageCol = sum / colCount;\n    //Difference color:\n    vec3 diffCol = col - averageCol;\n    //Counting difference power:\n    float power = 1.0 - (diffCol.r + diffCol.g + diffCol.b) / 3.0;\n    //Strengthen difference power:\n    for(int i = 0; i < 6; i++)\n        power *= power;\n    //Color to difference\n    col = power * col;\n    \n    float br = (col.r + col.g + col.b) / 3.0;\n    \n    col = vec3(br);\n    \n    fragColor = vec4(col, 1.0);\n}", "name": "Image", "description": "", "type": "image"}]}