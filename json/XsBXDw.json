{"ver": "0.1", "info": {"id": "XsBXDw", "date": "1412456715", "viewed": 358, "name": "Keyboard input example", "username": "esqmo", "description": "Keyboard input example", "likes": 6, "published": 1, "flags": 0, "usePreview": 0, "tags": ["keyboard"], "requires": ["keyboardbuf", "imagebuf"]}, "renderpass": [{"inputs": [{"id": "4dXGRr", "filepath": "/presets/tex00.jpg", "previewfilepath": "/presets/tex00.jpg", "type": "keyboard", "channel": 0, "sampler": {"filter": "nearest", "wrap": "clamp", "vflip": "false", "srgb": "false", "internal": "byte"}, "published": 1}], "outputs": [], "code": "// key is javascript keycode: http://www.webonweboff.com/tips/js/event_key_codes.aspx\nbool ReadKey( int key, bool toggle )\n{\n\tfloat keyVal = texture( iChannel0, vec2( (float(key)+.5)/256.0, toggle?.75:.25 ) ).x;\n\treturn (keyVal>.5)?true:false;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    int keyNum = 65 + int(uv.x * (90.0 - 65.0));\n    bool toggle = uv.y > 0.1;\n    \n    vec4 keyColor = ReadKey(keyNum, toggle) ? vec4(1.0 - uv.y, 0.0, 0.0, 1.0) : vec4(0.0, 1.0 - uv.y, 0.0, 1.0);\n\n    bool hozLine = abs(uv.x * 25.0 - float(int(uv.x * 25.0))) < 0.1;\n    bool vertLine = abs(uv.y - 0.1) < 0.005;\n    \n\tfragColor = (hozLine || vertLine) ? vec4(0.0, 0.0, 0.0, 1.0) : keyColor;\n}", "name": "", "description": "", "type": "image"}]}