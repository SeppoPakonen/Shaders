{"ver": "0.1", "info": {"id": "Xsl3RX", "date": "1375804873", "viewed": 6247, "name": " Target with smoothstep", "username": "possum", "description": "Feel free to experiment with the constants.", "likes": 54, "published": 1, "flags": 0, "tags": ["smooth", "ring"], "requires": ["imagebuf"]}, "renderpass": [{"inputs": [], "outputs": [], "code": "const float rings = 5.0;\t//exactly the number of complete white rings at any moment.\nconst float velocity=4.;\t\nconst float b = 0.003;\t\t//size of the smoothed border\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 position = fragCoord.xy/iResolution.xy;\n    float aspect = iResolution.x/iResolution.y;\n\tposition.x *= aspect;\n\tfloat dist = distance(position, vec2(aspect*0.5, 0.5));\n\tfloat offset=iTime*velocity;\n\tfloat conv=rings*4.;\n\tfloat v=dist*conv-offset;\n\tfloat ringr=floor(v);\n\tfloat color=smoothstep(-b, b, abs(dist- (ringr+float(fract(v)>0.5)+offset)/conv));\n\tif(mod(ringr,2.)==1.)\n\t\tcolor=1.-color;\n\tfragColor = vec4(color, color, color, 1.);\n}\n", "name": "", "description": "", "type": "image"}]}