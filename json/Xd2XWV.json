{"ver":"0.1","info":{"id":"Xd2XWV","date":"1416102559","viewed":474,"name":"LED matrix shader","username":"run","description":"This shader can run on top of a demo to get a led matrix looking style","likes":12,"published":1,"flags":0,"tags":[]},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"#define distortFocus .3\n#define lenX 96.\n#define lenY 54.\n#define sharpness 8.\n\n// Set this to 0. to get a static image, drifting is just here to show off the shader.\n#define drifting 1.\n\nfloat dist(vec2 uv, vec2 point) {\n\treturn sqrt(pow(abs(uv.x*iResolution.x/iResolution.y-point.x*iResolution.x/iResolution.y),2.)+ pow(abs(uv.y-point.y),2.));\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 gridSize = vec2(1./lenX, 1./lenY);\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 gridCoor = vec2(floor(uv.x*lenX),floor(uv.y*lenY));\n    vec2 colorSampleCoor = vec2(gridCoor.x*gridSize.x+gridSize.x/2., -(gridCoor.y*gridSize.y+gridSize.y/2.));\n    float zoomlevel = (.5*sin(iTime*.19)+1.5)*drifting+1.-drifting;\n    vec2 pan = vec2(sin(iTime*.37)/zoomlevel+.5, .5)*drifting;\n\tvec4 colorSample = texture(iChannel0, (colorSampleCoor)/zoomlevel+pan);\n    float blackAndWhite = (colorSample.r+colorSample.g+colorSample.b)/3.;\n    vec4 blackAndWhiteColor = vec4(blackAndWhite,blackAndWhite,blackAndWhite,1.);\n    float starCenterDist = dist(uv, vec2(gridCoor.x*gridSize.x+gridSize.x/2.,gridCoor.y*gridSize.y+gridSize.y/2.));\n    float starColor = max(0.,blackAndWhite-pow(starCenterDist,.7)*pow(sharpness,1./.7));\n    vec4 starColorSample = vec4(starColor,starColor,starColor,1.);\n    \n\tfragColor = starColorSample;\n}","name":"","description":"","type":"image"}]}