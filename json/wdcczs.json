{"ver": "0.1", "info": {"id": "wdcczs", "date": "1601508957", "viewed": 23, "name": "Dodecahedron & Icosahedron", "username": "gaz", "description": "sdf", "likes": 1, "published": 1, "flags": 0, "tags": ["dodecahedron", "icosahedron"], "requires": ["imagebuf"]}, "renderpass": [{"inputs": [], "outputs": [{"id": "4dfGRr", "channel": 0}], "code": "void rot3(inout vec3 p,vec3 a,float t){\n\ta=normalize(a);\n\tvec3 q=cross(a,p),u=cross(q,a);\n\tp=u*cos(t)+q*sin(t)+a*dot(p,a);   \n}\n\nfloat dodec(vec3 p,float r){\n\tfloat d=0.;\n\tvec3 q=normalize(vec3(sqrt(5.)*.5+.5,1,0));\n\tfor(int i=0;i<3;i++){\n\t\td=max(d,abs(dot(abs(p),vec3[](q,q.yzx,q.zxy)[i])));\n\t}\n\treturn d-r;\n}\n\nfloat icosa(vec3 p,float r){\n\tfloat d=0.;\n\tfloat G=sqrt(5.)*.5+.5;\n\tvec3 q=normalize(vec3(G,1./G,0));\n\tfor(int i=0;i<3;i++){\n\t\td=max(d,abs(dot(abs(p),vec3[](q,q.yzx,q.zxy)[i])));\n\t}\n\td=max(d,abs(dot(abs(p),normalize(vec3(1)))));\n    return d-r;\n}\n\nfloat map(vec3 p){\n\trot3(p,vec3(1,2,3),iTime);\n\treturn (fract(iTime*.2)<.5)?icosa(p,1.):dodec(p,1.);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec3 rd=normalize(vec3((fragCoord-.5*iResolution.xy)/iResolution.y,1));\n\tvec3 ro=vec3(0,0,-3.5);\n\tfloat i,g,e;\n\tfor(i=0.;++i<50.;){\n\t\tg+=e=map(g*rd+ro);\n\t\tif(e<.001)break;\n\t}\n\tfragColor+=3./i;  \n}\n", "name": "Image", "description": "", "type": "image"}]}