{"ver":"0.1","info":{"id":"WtBcRG","date":"1594604303","viewed":57,"name":"Quadrupole Contour Plot","username":"Mr_Mayhem","description":"An animated contour plot with sharper lines than earlier posts. Use mouse or tap touchscreen.","likes":3,"published":1,"flags":0,"tags":[]},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// by Mr_Mayhem July 2020\n// An animated contour plot with sharper lines than earlier posts. \n// Use mouse or tap touchscreen.\n\n// Heavily modified from https://www.shadertoy.com/view/lltBWM by 8x\n// Thanks to FabriceNeyret2 for many improvements.\n\n#define addPole(u,v)  sum +=  h / (1. + length(fragCoord - R*vec2(u, v)));\n#define addZero(u,v)  sum += -h / (1. + length(fragCoord - R*vec2(u, v)));\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2  R = iResolution.xy;\n    float h = 1000.; // try increasing this, heh.\n    float sum = 0.0;\n    \n    // create some poles and zeros\n    // (positive and negative values of 'sum' with respect to xy location)\n    // (like peaks and valleys in terrain)\n    // 4 zeros in a square make a Quadrupole\n    addZero(0.3, 0.3); \n    addZero(0.3, 0.7);    \n    addZero(0.7, 0.3);\n    addZero(0.7, 0.7);        \n            \n    sum *=  0.5; // reduce the value by half\n    \n    // pole at mouse, but we skipped 'sum *=  0.5;' part above\n    // meaning it's twice as 'strong' as the previous 4.\n    addPole(iMouse.x/R.x, iMouse.y/R.y);\n    \n    // animate\n    sum *= sin(iTime/2.); \n    \n    // Thanks to FabriceNeyret for helping me sort this out\n    // with better smoothstep.\n    float br = fract(sum);\n    if(mod(sum, 2.) > 1.) br = 1. -br; // can we replace if statement?\n    br = sign(sum) * smoothstep(1.5, .0, br / fwidth(sum) );\n    fragColor =  vec4(-br, br, 0, 1) ; // replaces if br > 0. statement\n}\n\n","name":"Image","description":"","type":"image"}]}