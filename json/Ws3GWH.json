{"ver": "0.1", "info": {"id": "Ws3GWH", "date": "1568741457", "viewed": 200, "name": "Infinite Pseudorandom Maze", "username": "jarble", "description": "This infinite maze is generated by a 2D pattern-matching algorithm and a pseudorandom hash function.", "likes": 2, "published": 3, "flags": 0, "tags": ["pseudo"], "requires": ["imagebuf"]}, "renderpass": [{"inputs": [], "outputs": [{"id": "4dfGRr", "channel": 0}], "code": "//this function is from https://www.shadertoy.com/view/4djSRW\nfloat hash12(vec2 p)\n{\n\tvec3 p3  = fract(vec3(p.xyx) * .1031);\n    p3 += dot(p3, p3.yzx + 33.33);\n    return floor(fract((p3.x + p3.y) * p3.z)*2.0);\n}\n\n\nfloat magnify(vec2 fragCoord,float mag){\n\treturn hash12(floor(fragCoord/pow(2.0,mag)));\n}\n\nbool is_above(vec2 fragCoord,float mag,float color){\n\treturn magnify(fragCoord,mag) == color;\n}\nbool is_next_to(vec2 fragCoord,float mag,float color){\n\treturn magnify(fragCoord+vec2(0,1),mag) == color\n        && magnify(fragCoord+vec2(1,0),mag) == color\n        && magnify(fragCoord-vec2(0,1),mag) == color\n        && magnify(fragCoord-vec2(1,0),mag) == color;\n}\n\n\nvec3 get_color(float color){\n    if(color == 1.0){\n    \treturn vec3(0.149,0.141,0.912);\n   \t}\n    else if(color == 0.0){\n    \treturn vec3(0.000,0.833,0.224);\n   \t}\n    else if(color == 2.0){\n        //red pixel\n    \treturn vec3(1.0,0.0,0.0);\n   \t}\n    else if(color == 3.0){\n        //yellow pixel\n    \treturn vec3(1.0,1.0,0.0);\n   \t}\n}\n\n\nbool matches_pattern(mat2 in_pattern,vec2 fragCoord,float mag){\n    float current_pixel;\n    for(int i = 0; i < 2; i++){\n        for(int j = 0; j < 2; j++){\n        \tfloat current_color = in_pattern[i][j];\n            current_pixel = magnify(fragCoord+vec2(i,j),mag);\n            if(current_color != current_pixel){\n            \treturn false;\n            }\n        }\n    }\n    return true;\n}\n\nfloat replace_pattern(mat2 in_pattern, mat2 out_pattern, vec2 fragCoord,float mag){\n    for (int i = 0; i < 2; i++){\n    \tfor(int j = 0; j < 2; j++){\n            if(matches_pattern(in_pattern,fragCoord-vec2(i,j),mag)){\n            \treturn out_pattern[1-i][1-j];\n            }\n        }\n    }\n    return magnify(fragCoord,mag);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragCoord = fragCoord + iTime*vec2(50.0,0.0);\n    float mag = 2.0;\n    float color1 = magnify(fragCoord,mag);\n    color1 = replace_pattern(mat2(1.0,1.0,1.0,1.0),mat2(0.0,2.0,2.0,0.0),fragCoord,mag);\n    fragColor = vec4(get_color(color1),1.0);\n}", "name": "Image", "description": "", "type": "image"}]}