{"ver": "0.1", "info": {"id": "WlfXRH", "date": "1561990783", "viewed": 254, "name": "Damiers", "username": "ciphered", "description": "having fun with 2d transformations on a distance circle ", "likes": 1, "published": 3, "flags": 0, "tags": ["transform"], "requires": ["imagebuf"]}, "renderpass": [{"inputs": [], "outputs": [{"id": "4dfGRr", "channel": 0}], "code": "mat2 rotate2d(float _angle){\n    return mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle));\n}\n\nfloat circle(in vec2 _st, in float _radius){\n    vec2 dist = _st;\n\treturn 1.-smoothstep(_radius-(_radius*0.01),\n                         _radius+(_radius*0.01),\n                         dot(dist,dist)*4.0);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy - 0.5;\n    vec2 pos = uv;\n    vec2 pos2 = uv;\n    \n    uv*= (iTime/1000.0)+1.0;\n    \n    uv = rotate2d(length(uv)*3.0) * uv;\n    \n    pos = rotate2d(-iTime/3.0) * pos;\n    \n   \tmat2 r = rotate2d(iTime);\n    \n    uv = r * uv;\n    uv = abs(uv);\n    \n    uv = mod(uv, 0.4);\n    \n    uv.x = (uv.x > abs(cos(iTime/4.0)*0.2)) ? -uv.x : uv.x;\n    \n    float d = length(pos);\n    \n    mat2 r2 = rotate2d(d + iTime/10.0);\n    uv = uv * r2;\n    \n    uv = rotate2d(length(uv)) * uv;\n\n    // bottom-left\n    float pct = circle(uv+vec2(cos(iTime/20.0)*0.25, sin(iTime/10.0)*0.25), 0.5);\n\n    // multiplier gauche par bas revient \u00e0 faire un AND logique.\n    vec3 color = vec3(pct);\n    \n    pos = rotate2d(-length(pos)*4.0) * pos;\n    \n    if (pos.x > 0.0) {\n        color = 1.0 - color;\n    }\n    if (pos.y > 0.0) {\n        color = 1.0 - color;\n    }\n    \n    pos2 = rotate2d(-length(pos2)*6.0 - iTime/8.0) * pos2;\n    \n    if (pos2.x > 0.0) {\n        color = 1.0 - color;\n    }\n    if (pos2.y > 0.0) {\n        color = 1.0 - color;\n    }\n    \n    color*= pow(length(pos2)*2.0, 1.5);\n    //color*= pow(length(pos2)*3.0, 2.0);\n\n    // Output to screen\n    fragColor = vec4(color,1.0);\n}", "name": "Image", "description": "", "type": "image"}]}