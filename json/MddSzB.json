{"ver": "0.1", "info": {"id": "MddSzB", "date": "1460123673", "viewed": 335, "name": "Simple Floor Projection", "username": "TrueBoolean", "description": "A short and readable floor projection demo. Should make it easy to learn how projection and transformations work. Use your mouse to look around the scene.", "likes": 5, "published": 1, "flags": 0, "tags": ["floor", "projection"], "requires": ["texture", "imagebuf", "texturebuf"]}, "renderpass": [{"inputs": [{"id": "Xdf3zn", "filepath": "/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png", "previewfilepath": "/media/ap/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png", "type": "texture", "channel": 0, "sampler": {"filter": "nearest", "wrap": "repeat", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 1}], "outputs": [{"id": "4dfGRr", "channel": 0}], "code": "//BY JOHN HENRY ON 8 APRIL 2016\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //SCENE ATTRIBUTES\n    float FOV=0.5;\n    float SCALE = 0.4;\n    float CENTER_SCREEN=0.5;\n    vec2 camPos=vec2(sin(iTime),iTime);\n    float camRot=iMouse.x/ iResolution.x-CENTER_SCREEN;\n    float horizon=-iMouse.y/ iResolution.y+CENTER_SCREEN;\n    //PROJECTION \n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    uv -= vec2(CENTER_SCREEN);\n    if(uv.y>horizon)\n        camPos=-camPos;\n\tvec3 projection = vec3(uv.x, uv.y - horizon - FOV, uv.y - horizon); \n    vec2 scene = projection.xy / projection.z; \n    //CAMERA TRANSFORMATION\n    scene *= SCALE;\n    mat2 rotationMatrix = mat2(cos(camRot), - sin(camRot), sin(camRot), cos(camRot));\n    scene *= rotationMatrix;\n    scene+=camPos;//Note: Always update camera position AFTER the rotation!\n    //COLOR\n    vec3 texel = texture(iChannel0, scene).xyz;\n    texel*=abs(horizon-uv.y);//(Darkening based on distance)\n    fragColor = vec4(texel,1.0);\n}", "name": "Image", "description": "", "type": "image"}]}