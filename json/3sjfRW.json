{"ver": "0.1", "info": {"id": "3sjfRW", "date": "1589639510", "viewed": 47, "name": "Just another font macro", "username": "kastorp", "description": "easy to use font macros. see credits in code\nnot suited for high performances", "likes": 3, "published": 1, "flags": 0, "tags": ["character"], "requires": ["texture", "imagebuf"]}, "renderpass": [{"inputs": [{"id": "4dXGR8", "filepath": "/media/previz/buffer00.png", "previewfilepath": "/media/previz/buffer00.png", "type": "buffer", "channel": 0, "sampler": {"filter": "nearest", "wrap": "clamp", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 1}], "outputs": [{"id": "4dfGRr", "channel": 0}], "code": "// simple font macros \n//\n// CREDITS:\n// based on  \"My SOund VisUalization\" by eiffie. https://shadertoy.com/view/MdVGDh\n//  Font code ripped from: ASCII Characters... font texture by Bart_Verheijen\n//  Created by Bart Verheijen 2016\n//  License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n// font data is copied from Flyguy:\n// https://www.shadertoy.com/view/Mt2GWD\n//  Automatically generated from the 8x12 font sheet here:\n//  http://www.massmind.org/techref/datafile/charset/extractor/charset_extractor.htm\n\n#define _(ch) vec3(printCh(ch, FONTX-=(FONTSX+1.)*8., FONTY-= FONTSY*12.,FONTLINE++))* FONTC\n#define fontNum(f,n) printNum(n,f,FONTX,FONTY,FONTC,FONTLINE,FONTSX,FONTSY)\n#define fontXYZ(px,py,fz) FONTZ= fz;FONTLINE=0.; FONTX=floor(fragCoord.x/FONTZ -(px-8.)/FONTZ );FONTY=floor(fragCoord.y/FONTZ -(py-12.)/FONTZ )\n#define fontMove(cx,cy) FONTX-=floor(cx*8.); FONTY+=floor(cy*12.)\n#define fontLF() FONTX+=  8.*FONTZ*FONTLINE; FONTY+=(12.*FONTZ);FONTLINE=0.;\n#define fontColor(r,g,b) FONTC=vec3(r,g,b)\n#define fontSpacing(sx,sy) FONTSX=sx;FONTSY=-sy\n#define fontString(f,st) \t{for(int _f_i= 0;_f_i<st.length();_f_i++ )f+= _(st[_f_i]);}\n\n//--------------------------------\n// reference table here:\n//\n// http://www.massmind.org/images/member/ng--944/font8x12.png\n//\n//-------------------------------\nconst vec4 _spc = vec4(0x000000,0x000000,0x000000,0x000000);\nconst vec4 _exc = vec4(0x003078,0x787830,0x300030,0x300000);\nconst vec4 _quo = vec4(0x006666,0x662400,0x000000,0x000000);\nconst vec4 _hsh = vec4(0x006C6C,0xFE6C6C,0x6CFE6C,0x6C0000);\nconst vec4 _dol = vec4(0x30307C,0xC0C078,0x0C0CF8,0x303000);\nconst vec4 _pct = vec4(0x000000,0xC4CC18,0x3060CC,0x8C0000);\nconst vec4 _amp = vec4(0x0070D8,0xD870FA,0xDECCDC,0x760000);\nconst vec4 _apo = vec4(0x003030,0x306000,0x000000,0x000000);\nconst vec4 _lbr = vec4(0x000C18,0x306060,0x603018,0x0C0000);\nconst vec4 _rbr = vec4(0x006030,0x180C0C,0x0C1830,0x600000);\nconst vec4 _ast = vec4(0x000000,0x663CFF,0x3C6600,0x000000);\nconst vec4 _crs = vec4(0x000000,0x18187E,0x181800,0x000000);\nconst vec4 _com = vec4(0x000000,0x000000,0x000038,0x386000);\nconst vec4 _dsh = vec4(0x000000,0x0000FE,0x000000,0x000000);\nconst vec4 _per = vec4(0x000000,0x000000,0x000038,0x380000);\nconst vec4 _lsl = vec4(0x000002,0x060C18,0x3060C0,0x800000);\nconst vec4 _0 = vec4(0x007CC6,0xD6D6D6,0xD6D6C6,0x7C0000);\nconst vec4 _1 = vec4(0x001030,0xF03030,0x303030,0xFC0000);\nconst vec4 _2 = vec4(0x0078CC,0xCC0C18,0x3060CC,0xFC0000);\nconst vec4 _3 = vec4(0x0078CC,0x0C0C38,0x0C0CCC,0x780000);\nconst vec4 _4 = vec4(0x000C1C,0x3C6CCC,0xFE0C0C,0x1E0000);\nconst vec4 _5 = vec4(0x00FCC0,0xC0C0F8,0x0C0CCC,0x780000);\nconst vec4 _6 = vec4(0x003860,0xC0C0F8,0xCCCCCC,0x780000);\nconst vec4 _7 = vec4(0x00FEC6,0xC6060C,0x183030,0x300000);\nconst vec4 _8 = vec4(0x0078CC,0xCCEC78,0xDCCCCC,0x780000);\nconst vec4 _9 = vec4(0x0078CC,0xCCCC7C,0x181830,0x700000);\nconst vec4 _col = vec4(0x000000,0x383800,0x003838,0x000000);\nconst vec4 _scl = vec4(0x000000,0x383800,0x003838,0x183000);\nconst vec4 _les = vec4(0x000C18,0x3060C0,0x603018,0x0C0000);\nconst vec4 _equ = vec4(0x000000,0x007E00,0x7E0000,0x000000);\nconst vec4 _grt = vec4(0x006030,0x180C06,0x0C1830,0x600000);\nconst vec4 _que = vec4(0x0078CC,0x0C1830,0x300030,0x300000);\nconst vec4 _ats = vec4(0x007CC6,0xC6DEDE,0xDEC0C0,0x7C0000);\nconst vec4 _A = vec4(0x003078,0xCCCCCC,0xFCCCCC,0xCC0000);\nconst vec4 _B = vec4(0x00FC66,0x66667C,0x666666,0xFC0000);\nconst vec4 _C = vec4(0x003C66,0xC6C0C0,0xC0C666,0x3C0000);\nconst vec4 _D = vec4(0x00F86C,0x666666,0x66666C,0xF80000);\nconst vec4 _E = vec4(0x00FE62,0x60647C,0x646062,0xFE0000);\nconst vec4 _F = vec4(0x00FE66,0x62647C,0x646060,0xF00000);\nconst vec4 _G = vec4(0x003C66,0xC6C0C0,0xCEC666,0x3E0000);\nconst vec4 _H = vec4(0x00CCCC,0xCCCCFC,0xCCCCCC,0xCC0000);\nconst vec4 _I = vec4(0x007830,0x303030,0x303030,0x780000);\nconst vec4 _J = vec4(0x001E0C,0x0C0C0C,0xCCCCCC,0x780000);\nconst vec4 _K = vec4(0x00E666,0x6C6C78,0x6C6C66,0xE60000);\nconst vec4 _L = vec4(0x00F060,0x606060,0x626666,0xFE0000);\nconst vec4 _M = vec4(0x00C6EE,0xFEFED6,0xC6C6C6,0xC60000);\nconst vec4 _N = vec4(0x00C6C6,0xE6F6FE,0xDECEC6,0xC60000);\nconst vec4 _O = vec4(0x00386C,0xC6C6C6,0xC6C66C,0x380000);\nconst vec4 _P = vec4(0x00FC66,0x66667C,0x606060,0xF00000);\nconst vec4 _Q = vec4(0x00386C,0xC6C6C6,0xCEDE7C,0x0C1E00);\nconst vec4 _R = vec4(0x00FC66,0x66667C,0x6C6666,0xE60000);\nconst vec4 _S = vec4(0x0078CC,0xCCC070,0x18CCCC,0x780000);\nconst vec4 _T = vec4(0x00FCB4,0x303030,0x303030,0x780000);\nconst vec4 _U = vec4(0x00CCCC,0xCCCCCC,0xCCCCCC,0x780000);\nconst vec4 _V = vec4(0x00CCCC,0xCCCCCC,0xCCCC78,0x300000);\nconst vec4 _W = vec4(0x00C6C6,0xC6C6D6,0xD66C6C,0x6C0000);\nconst vec4 _X = vec4(0x00CCCC,0xCC7830,0x78CCCC,0xCC0000);\nconst vec4 _Y = vec4(0x00CCCC,0xCCCC78,0x303030,0x780000);\nconst vec4 _Z = vec4(0x00FECE,0x981830,0x6062C6,0xFE0000);\nconst vec4 _lsb = vec4(0x003C30,0x303030,0x303030,0x3C0000);\nconst vec4 _rsl = vec4(0x000080,0xC06030,0x180C06,0x020000);\nconst vec4 _rsb = vec4(0x003C0C,0x0C0C0C,0x0C0C0C,0x3C0000);\nconst vec4 _pow = vec4(0x10386C,0xC60000,0x000000,0x000000);\nconst vec4 _usc = vec4(0x000000,0x000000,0x000000,0x00FF00);\nconst vec4 _a = vec4(0x000000,0x00780C,0x7CCCCC,0x760000);\nconst vec4 _b = vec4(0x00E060,0x607C66,0x666666,0xDC0000);\nconst vec4 _c = vec4(0x000000,0x0078CC,0xC0C0CC,0x780000);\nconst vec4 _d = vec4(0x001C0C,0x0C7CCC,0xCCCCCC,0x760000);\nconst vec4 _e = vec4(0x000000,0x0078CC,0xFCC0CC,0x780000);\nconst vec4 _f = vec4(0x00386C,0x6060F8,0x606060,0xF00000);\nconst vec4 _g = vec4(0x000000,0x0076CC,0xCCCC7C,0x0CCC78);\nconst vec4 _h = vec4(0x00E060,0x606C76,0x666666,0xE60000);\nconst vec4 _i = vec4(0x001818,0x007818,0x181818,0x7E0000);\nconst vec4 _j = vec4(0x000C0C,0x003C0C,0x0C0C0C,0xCCCC78);\nconst vec4 _k = vec4(0x00E060,0x60666C,0x786C66,0xE60000);\nconst vec4 _l = vec4(0x007818,0x181818,0x181818,0x7E0000);\nconst vec4 _m = vec4(0x000000,0x00FCD6,0xD6D6D6,0xC60000);\nconst vec4 _n = vec4(0x000000,0x00F8CC,0xCCCCCC,0xCC0000);\nconst vec4 _o = vec4(0x000000,0x0078CC,0xCCCCCC,0x780000);\nconst vec4 _p = vec4(0x000000,0x00DC66,0x666666,0x7C60F0);\nconst vec4 _q = vec4(0x000000,0x0076CC,0xCCCCCC,0x7C0C1E);\nconst vec4 _r = vec4(0x000000,0x00EC6E,0x766060,0xF00000);\nconst vec4 _s = vec4(0x000000,0x0078CC,0x6018CC,0x780000);\nconst vec4 _t = vec4(0x000020,0x60FC60,0x60606C,0x380000);\nconst vec4 _u = vec4(0x000000,0x00CCCC,0xCCCCCC,0x760000);\nconst vec4 _v = vec4(0x000000,0x00CCCC,0xCCCC78,0x300000);\nconst vec4 _w = vec4(0x000000,0x00C6C6,0xD6D66C,0x6C0000);\nconst vec4 _x = vec4(0x000000,0x00C66C,0x38386C,0xC60000);\nconst vec4 _y = vec4(0x000000,0x006666,0x66663C,0x0C18F0);\nconst vec4 _z = vec4(0x000000,0x00FC8C,0x1860C4,0xFC0000);\nconst vec4 _lpa = vec4(0x001C30,0x3060C0,0x603030,0x1C0000);\nconst vec4 _bar = vec4(0x001818,0x181800,0x181818,0x180000);\nconst vec4 _rpa = vec4(0x00E030,0x30180C,0x183030,0xE00000);\nconst vec4 _tid = vec4(0x0073DA,0xCE0000,0x000000,0x000000);\nconst vec4 _lar = vec4(0x000000,0x10386C,0xC6C6FE,0x000000);\n\nfloat printCh(in vec4 ch, in float x, in float y, float line)\n{\n    if(x<0.0 || y<0.0 || x>7.0 || y>11.0) return 0.;\n    float word = (y>5.9?y>8.9?ch.x:ch.y:y>2.9?ch.z:ch.a);\n    float n = floor(7.0-x + 8.0*mod(y,3.0));\n    return mod(floor(word/pow(2.0,n)), 2.0);\n}\n\nvoid printNum(in float n ,inout vec3 f, inout float FONTX, inout float FONTY,vec3 FONTC,inout float FONTLINE,  float FONTSX, float FONTSY){\n\n    if(n<0.) {f+=_(_dsh);n=abs(n);}\n    float c=floor(max(log(n)/log(10.0),0.0));\n    if(c>0.0) n/=pow(10.0,c);\n    for(float i=0.0;i<5.0;i++){\n        if(i>c+2.)continue;\n\t\tfloat d=floor(n);\n        vec4 sprite= d<.5?_0:d<1.5?_1:d<2.5?_2:d<3.5?_3:d<4.5?_4:\n    \t\td<5.5?_5:d<6.5?_6:d<7.5?_7:d<8.5?_8:_9;\n\t\tf+=_(sprite);\n\t\tn=(n-d)*10.0;\n        if(i==c)  f +=_(_per);\n    }\n}\n\n\n    \nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    //THE FOLLOWING VARIABLES MUST BE DECLARED  IN THE CALLING FUNCTION\n    float FONTX,FONTY,FONTZ,FONTSX,FONTSY, FONTLINE; vec3 FONTC;\n        \n  \t\n    vec3 f=vec3(0.);\n    \n    //HORIZONTAL SCROLL\n    float string_size=25.*8.;\n    fontXYZ(iResolution.x -mod(iTime*200.0,iResolution.x + string_size*2.),iResolution.y*.33,1.);\n    fontColor(1.,0.,0.);\n    f=_(_H)+_(_e)+_(_l)+_(_l)+_(_o); \n    \n    //LINE FEED   \n    fontColor(1.,0.,1.);\n    fontLF(); f+=_(_F)+_(_o)+_(_n)+_(_t)+_(_s);\n    fontLF(); f+=_(_w)+_(_i)+_(_t)+_(_h); \n    fontLF(); fontString(f, vec4[] (_l,_i,_n,_e));\n    fontLF(); f+=_(_f)+_(_e)+_(_e)+_(_d) +_(_exc); \n    \n    //WAVE1\n    fontXYZ(0.,iResolution.y*.66,3.);\n    fontColor(0.,1.,0.);           \n    fontMove(0.,.5*sin(floor(FONTX/8.)+iTime));    \n    f+=_(_W)+_(_A)+_(_W)+_(_E) +_(_1) +_(_spc);\n    \n    //WAVE2\n    fontXYZ(iResolution.x-100.,iResolution.y-40.,2.);\n    fontMove(0.,sin(fragCoord.x*.05 +iTime)/3.); \n    f+=_(_W)+_(_A)+_(_W)+_(_E) +_(_2);\n    \n    //ZOOM\n    \n    fontColor(1.,1.,0.);  \n    fontXYZ(50. -(mod(iTime*3.,3.) +1.)*16., iResolution.y -36.,mod(iTime*3.,3.) +1.);    \n    float n=iTime;\n\tfontNum(f,n);\n    \n    fontColor(1.,1.,1.);\n    f+=_(_s);\n \n    //CIRCLE \n    fontXYZ(iResolution.x *.8+cos(iTime)*65., iResolution.y*.7+sin(iTime)*50.,2.); \n    fontSpacing(-1.,1.);\n    f+=_(_F)+_(_o)+_(_n)+_(_t);\n    fontMove(2.,-4.);\n    f+=_(_V)+_(_e)+_(_r)+_(_t);\n    \n    //VERTICAL SCROLL\n    fontSpacing(0.,0.);\n    fontXYZ(iResolution.x *.5, mod(iTime*200.0,iResolution.y),2.);\n    fontColor(0.,0.,1.);\n    f+=_(_T)+_(_I)+_(_T)+_(_L)+_(_E);\n    fontMove(-7.,2.);\n    f+=_(_s)+_(_c)+_(_r)+_(_o)+_(_l)+_(_l)+_(_i)+_(_n)+_(_g);\n   \n    //STRING ARRAY \n     const vec4[] string = vec4[]  (_s,_t,_r,_i,_n,_g,_spc);\n    fontXYZ(0., 24.,1.);\n    fontString(f, string);\n    fontString(f, string);\n    fontString(f, string);\n    \n    fontString(f, vec4[]  (_a,_r,_r,_a,_y,_spc));\n    \n    //MOUSE\n    fontXYZ(iMouse.x-20.,iMouse.y,2.);\n    fontColor(0.,1.,1.);\n    fontString(f, vec4[]  (_m,_o,_u,_s,_e));\n    \n    fontXYZ(iMouse.z-20.,iMouse.w,2.);\n    fontColor(.5,.5,.5);\n    fontString(f, vec4[]  (_m,_o,_u,_s,_e));\n    \n    //fragColor += vec4(f,1.0);\n    fragColor = vec4(f,1);\n}", "name": "Image", "description": "", "type": "image"}]}