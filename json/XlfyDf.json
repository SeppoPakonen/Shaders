{"ver": "0.1", "info": {"id": "XlfyDf", "date": "1506603839", "viewed": 124, "name": "R + T lens distortion", "username": "ofx", "description": "meh", "likes": 0, "published": 1, "flags": 0, "usePreview": 0, "tags": ["lens_distortion"], "requires": ["texture", "imagebuf", "texturebuf"]}, "renderpass": [{"inputs": [{"id": "4dfGRn", "filepath": "/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg", "previewfilepath": "/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg", "type": "texture", "channel": 0, "sampler": {"filter": "mipmap", "wrap": "repeat", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 1}], "outputs": [{"id": "4dfGRr", "channel": 0}], "code": "float k1 = 0.0;\nfloat k2 = 0.0;\nfloat k3 = 0.0;\n\nfloat p1 = 0.0;\nfloat p2 = 0.0;\n\nconst int lk = 12;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    k1 = sin(iTime) * 0.05;\n    k2 = sin(iTime) * 0.08;\n    k3 = sin(iTime) * 0.11;\n    \n    p1 = cos(iTime) * 0.01;\n    p2 = sin(iTime) * 0.01;\n    \n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tvec2 t = uv;\n    t -= 0.5;\n    \n    float r = sqrt(t.x * t.x + t.y * t.y);\n    float r2 = pow(r, 2.0f);\n    \n    float f = (1.0f + r2 * k1) + (k2 * pow(r, 4.0f)) + (k3 * pow(r, 6.0f));\n    \n    uv = f * t + 0.5f;\n    \n    float xy = uv.x * uv.y;\n    uv.x += 2.0f * p1 * xy + p2 * (r2 + 2.0f * pow(uv.x, 2.0f));\n    uv.y += p1 * (r2 + 2.0f * pow(uv.y, 2.0f)) + 2.0f * p2 * xy;\n    \n    fragColor = texture(iChannel0, uv);\n}", "name": "Image", "description": "", "type": "image"}]}