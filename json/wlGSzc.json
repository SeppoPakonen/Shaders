{"ver": "0.1", "info": {"id": "wlGSzc", "date": "1583240418", "viewed": 441, "name": "Floating Points", "username": "evalee", "description": "A colorful cloud of dots.", "likes": 7, "published": 3, "flags": 0, "usePreview": 0, "tags": [], "requires": ["imagebuf"]}, "renderpass": [{"inputs": [], "outputs": [{"id": "4dfGRr", "channel": 0}], "code": "float DistanceToLine(vec3 LineStart, vec3 LineEnd, vec3 Point)\n{\n    vec3 lineStartToEnd = LineEnd - LineStart;\n    return length(cross(Point - LineStart, lineStartToEnd))/length(lineStartToEnd);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // UV goes from -0.5 to 0.5 vertically\n    vec2 uv = (fragCoord - iResolution.xy * 0.5)/iResolution.y;\n    \n    float sineOfTime = sin(iTime);\n    float cosineOfTime = cos(iTime);\n    \n    vec3 rayOrigin = vec3(0, 0, -1.0 + sineOfTime * 0.25);\n    vec3 uvPoint = vec3(uv, 0);\n    \n    float filledIn = 0.0;\n\n    for (float x = -1.0; x <= 1.0; x += 0.5)\n    {\n        for (float y = -1.0; y <= 1.0; y += 0.5)\n        {\n            for (float z = -1.0; z <= 1.0; z += 0.5)\n            {\n                vec3 point = vec3(x, y, z + 5.0);\n                point.x += sineOfTime * 0.75;\n                point.z -= cosineOfTime * 0.75;\n                point.y -= (cosineOfTime + sineOfTime) * 0.75;\n                point.x += (fract(x * 47350.6 - y * 7076.5 + z * 3205.25 + sin(iTime * x * y * z) * 0.5) - 0.5) * 1.75;\n                point.y += (fract(-x * 155.2 + y * 2710.66 + z * 71820.43 - cos(iTime * x * y * z) * 0.5) - 0.5) * 1.75;\n                point.z += (fract(x * 21255.52 + y * 510.16 - z * 6620.73 - cos(iTime * x * y * z) * 0.5) - 0.5) * 1.75;\n                \n                float distanceToLine = DistanceToLine(rayOrigin, uvPoint, point);\n                float radius = 1.0 - (fract(x * 61250.955 + y * 163.135 + z * 6207.58) * 0.125 + 0.025);\n                float intensity = 0.25 * fract(x * 1050.25 + y * -8415.95 + z * 120.01);\n                float distanceFwidth = fwidth(distanceToLine);\n                filledIn += intensity * smoothstep(radius - distanceFwidth, radius, 1.0 - distanceToLine);\n                \n                // Glow\n                filledIn += max(0.01, sineOfTime * 0.5 + 1.0 - distanceToLine) * 0.01;\n            }\n        }\n    }\n    \n    vec3 color = filledIn * vec3(uv.x + 0.5, uv.y + 0.5, uv.x * uv.y + 0.5) * (max(0.5, (cos(iTime * 0.35 + 0.25) + 0.5)) * 10.0);\n    \n    fragColor = vec4(color, 1);\n}", "name": "Image", "description": "", "type": "image"}]}