{"ver": "0.1", "info": {"id": "WsKBWt", "date": "1608232626", "viewed": 201, "name": "Over Sharp", "username": "me_123", "description": "A few years ago i made a javascript program that repeatedly dose a convolutional filter over itself and it makes pretty cool stuff like a serispency triangle, and the game of life, and lots of other things. this filter dose a edge filter then a box blur. ", "likes": 5, "published": 3, "flags": 32, "usePreview": 0, "tags": [], "requires": ["texture", "texturebuf", "imagebuf"]}, "renderpass": [{"inputs": [{"id": "XsXGR8", "filepath": "/media/previz/buffer01.png", "previewfilepath": "/media/previz/buffer01.png", "type": "buffer", "channel": 0, "sampler": {"filter": "linear", "wrap": "clamp", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 1}], "outputs": [{"id": "4dfGRr", "channel": 0}], "code": "void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 pos = fragCoord.xy/iResolution.xy;\n    fragColor = texture(iChannel0, pos);\n}", "name": "Image", "description": "", "type": "image"}, {"inputs": [{"id": "XdX3Rn", "filepath": "/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg", "previewfilepath": "/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg", "type": "texture", "channel": 0, "sampler": {"filter": "mipmap", "wrap": "repeat", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 1}, {"id": "4dXGR8", "filepath": "/media/previz/buffer00.png", "previewfilepath": "/media/previz/buffer00.png", "type": "buffer", "channel": 1, "sampler": {"filter": "linear", "wrap": "clamp", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 1}], "outputs": [{"id": "4dXGR8", "channel": 0}], "code": "void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 pos = fragCoord.xy/iResolution.xy;\n    if (iFrame < 20) {\n        fragColor = texture(iChannel0, pos);\n    } else {\n        vec2 uv = fragCoord.xy/iResolution.xy;\n        uv -= 0.5;\n        uv.x *= iResolution.x/iResolution.y;\n        vec2 mouse = (iMouse.xy/iResolution.xy)-0.5;\n        mouse.x *= iResolution.x/iResolution.y;\n        if (length(uv-mouse)-0.1 < 0.0 && length(uv-mouse)-0.1 > -0.1 && iMouse.z > 1.0) {\n            fragColor = vec4(vec3(abs(mouse)*10., 1.0), 1.0);\n        } else {\n            fragColor = vec4(0);\n        }\n    }\n}", "name": "Buffer A", "description": "", "type": "buffer"}, {"inputs": [{"id": "4dXGR8", "filepath": "/media/previz/buffer00.png", "previewfilepath": "/media/previz/buffer00.png", "type": "buffer", "channel": 0, "sampler": {"filter": "linear", "wrap": "clamp", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 1}, {"id": "XsXGR8", "filepath": "/media/previz/buffer01.png", "previewfilepath": "/media/previz/buffer01.png", "type": "buffer", "channel": 1, "sampler": {"filter": "linear", "wrap": "clamp", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 1}], "outputs": [{"id": "XsXGR8", "channel": 0}], "code": "vec3 getColor(vec2 pos) {\n    pos.xy /= iResolution.xy;\n    vec4 c = texture(iChannel0, pos);\n    if (c.w == 0.0) {\n        return texture(iChannel1, pos).xyz;\n    } else {\n        return c.xyz;\n    }\n}\nvec3 convel(in vec2 p) {\n    float size = 3.;\n    float f[9];\n    if (iFrame%4 >= 3) {\n        f[0] = -1.0;f[1] = -1.0;f[2] = -1.0;\n        f[3] = -1.0;f[4] = 8.5;f[5] = -1.0;\n        f[6] = -1.0;f[7] = -1.0;f[8] = -1.0;\n    } else {\n        f[0] = 1./9.;f[1] = 1./9.;f[2] = 1./9.;\n        f[3] = 1./9.;f[4] = 1./9.;f[5] = 1./9.;\n        f[6] = 1./9.;f[7] = 1./9.;f[8] = 1./9.;\n    }\n    float fSize = size*size;\n    vec3 color = vec3(0);\n    for (float x = 0.; x < size; x += 1.0) {\n        for (float y = 0.; y < size; y += 1.0) {\n            vec2 n = (p+vec2(x, y))-floor(size/2.0);\n            color += getColor(n)*f[int(x+(y*size))];\n        }\n    }\n    //It needs to be clampd or it will reach infinity\n    return clamp(color, -1.0, 10.0);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 pos = fragCoord.xy/iResolution.xy;\n    fragColor = vec4(convel(fragCoord), 1.0);\n}", "name": "Buffer B", "description": "", "type": "buffer"}]}