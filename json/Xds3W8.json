{"ver": "0.1", "info": {"id": "Xds3W8", "date": "1368663609", "viewed": 1067, "name": "Simple Convolve", "username": "Pitzik4", "description": "Just a really quick, simple circular blur.\nConstants that you can change: CV is the radius of the blur, ST controls the quality (higher is faster but looks worse).", "likes": 38, "published": 1, "flags": 0, "tags": ["fx", "simple", "video"], "requires": ["texture", "videobuf", "imagebuf"]}, "renderpass": [{"inputs": [{"id": "4sX3Rn", "filepath": "/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv", "previewfilepath": "/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv", "type": "video", "channel": 0, "sampler": {"filter": "linear", "wrap": "clamp", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 1}], "outputs": [], "code": "#define PI2 6.283184\n\n#define CV 0.1\n#define ST 0.05\n\nvec4 colorat(vec2 uv) {\n\treturn texture(iChannel0, uv);\n}\nvec4 blur(vec2 uv) {\n\tvec4 col = vec4(0.0);\n\tfor(float r0 = 0.0; r0 < 1.0; r0 += ST) {\n\t\tfloat r = r0 * CV;\n\t\tfor(float a0 = 0.0; a0 < 1.0; a0 += ST) {\n\t\t\tfloat a = a0 * PI2;\n\t\t\tcol += colorat(uv + vec2(cos(a), sin(a)) * r);\n\t\t}\n\t}\n\tcol *= ST * ST;\n\treturn col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = blur(uv);\n}\n", "name": "", "description": "", "type": "image"}]}