{"ver": "0.1", "info": {"id": "MsyXDw", "date": "1464734529", "viewed": 1787, "name": "Gear Designs 2", "username": "Yusef28", "description": "Style practice. based on http://patriciogonzalezvivo.com/2015/thebookofshaders/07/ ", "likes": 34, "published": 1, "flags": 0, "tags": ["smooth"], "requires": ["imagebuf"]}, "renderpass": [{"inputs": [], "outputs": [{"id": "4dfGRr", "channel": 0}], "code": "vec3 gear1(vec2 p){\n\n        float a = atan(p.y, p.x)+ iTime;\n        float l = length(p)*1.0;\n        \n        float g = smoothstep(-.5, 1.0, cos(a*10.0))*0.13+0.5;\n            \n            float gear = 1.0-smoothstep(g,g+0.03, l);   //takes waveform as bounds\n            float midgear = 1.0-smoothstep(g-0.02,g+0.03, l*1.1);\n            float biggear = 1.0-smoothstep(g,g+0.03, l*1.05);\n            float xshole = 1.0-smoothstep(g,g+0.03, l*2.0);//or3\n                \n            float outline = 1.0-smoothstep(g-0.2, g-0.1, l) - smoothstep(g-0.1, 0.4,  l); \n            float outline2 = 1.0-smoothstep(g-0.2, g-0.1, l) - smoothstep(g-0.1, 0.4,  l); \n\n    float h = smoothstep(-2.5,1.1, cos(a*10.0+3.1))*.25+0.02;\n    \tfloat spokes = 1.0-smoothstep(h-0.09,h+0.03, l);\n    \n    \n    \n    vec3 fullgear = vec3(gear-biggear+midgear-xshole+spokes)*vec3(1.0,1.0,1.0);\n    vec3 mainplates = vec3(midgear-xshole)*vec3(1.0,1.0,1.0);\n    vec3 rims = vec3(gear-biggear)*vec3(0.3,0.0,1.0) ;\n    vec3 spokes3 = vec3(.0,0.2,0.9)*spokes;  \n    vec3 outcolor =  mainplates + rims + spokes3;\n    \n    return outcolor;\n \n    }\n\nvec3 gear2(vec2 p, vec3 s, float spikenum, float thickness){\n\n        float a = atan(p.y, p.x)+ iTime;\n        float l = length(p)*2.0;\n        float g = smoothstep(-.95, -.5, cos(a*spikenum))*0.06+0.5;\n            \n            float gear = 1.0-smoothstep(g,g+0.03, l);   //takes waveform as bounds\n            float midgear = 1.0-smoothstep(g-0.02,g+0.03, l*1.1);\n            float biggear = 1.0-smoothstep(g,g+0.0003, l);\n            float xshole = 1.0-smoothstep(g,g+0.03, l*thickness);//or3\n                \n          \n    \n    vec3 mainplates = vec3(midgear-xshole)*vec3(1.0,1.0,1.0);\n    vec3 rims = vec3(gear-biggear)*vec3(0.3,0.0,1.0) ;\n    vec3 spokes3 = s;// vec3(.0,0.2,0.9)*spokes;  \n    vec3 outcolor =  mainplates  + spokes3;\n    \n    return outcolor;\n \n    }\n\nvec3 spokes1(vec2 p, float spokenum){\n    float a = atan(p.y, p.x)+ iTime;\n    float l = length(p)*2.0;\n    \n    float h = (abs(fract(a*spokenum+l*4.)*2.-1.)-0.240)*0.456+0.1828;\n    float spokes = 1.0-smoothstep(h-0.09,h+0.03, l);\n    vec3 spokes3 = vec3(.0,0.2,0.9)*spokes; \n    \n    return spokes3; \n}\nvec3 spokes2(vec2 p, float spokenum){\n    float a = atan(p.y, p.x)+ iTime;\n    float l = length(p)*2.0;\n    \n    float h =  pow(abs(fract(a*spokenum)*2.-0.848),-0.136)/5.992;\n    float spokes = 1.0-smoothstep(h-0.09,h+0.03, l);\n    vec3 spokes3 = vec3(.0,0.2,0.9)*spokes; \n    \n    return spokes3; \n}\nvec3 spokes3(vec2 p, float spokenum){\n    float a = atan(p.y, p.x)+ iTime;\n    float l = length(p)*2.0;\n    \n    float h = pow(abs(fract(a*spokenum)*2.000-1.000)+0.236,3.976)/6.976+.128;\n    float spokes = 1.0-smoothstep(h-0.09,h+0.03, l);\n    vec3 spokes3 = vec3(.0,0.2,0.9)*spokes; \n    \n    return spokes3; \n}\n/*\nvec3 makespokes(float h){\n    float a = atan(p.y, p.x)+ iTime;\n    float l = length(p)*1.0;\n\tfloat spokes = 1.0-smoothstep(h-0.09,h+0.03, l);\n    vec3 spokes3 = vec3(.0,0.2,0.9)*spokes;\n    return 1.;\n    \n}*/\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    uv = uv*2.0 - 1.0;\n    uv.x = uv.x*iResolution.x/iResolution.y;\n    \n    vec2 pos = uv;\n    \n    vec3 white = vec3(1.0,1.0,1.0);\n    vec3 grey = vec3(0.5,0.5,0.5);\n    vec3 lightgrey = vec3(0.8,0.8,0.8);\n    vec3 darkgrey = vec3(0.2,0.2,0.2);\n    \n    vec3 color = darkgrey;\n    \n    //float g = gear(pos);\n    //color = vec3(g);\n\n    \n    //float  i = floor((uv.x*uv.x+uv.y*uv.y)*3.14*20.);\n     //color += gear(vec2(pos.x+cos(i),pos.y+sin(i)));\n    \n    //1.752 for 1\n    //2.208 for2\n    //1.752 for 3\n    color+=gear2(vec2(pos.x + 1.2, pos.y+ 0.6), spokes1(vec2(pos.x + 1.2, pos.y+ 0.6),2.10/4.0), 10.0, 1.8);\n    color+=gear2(vec2(pos.x + 0.0, pos.y+ 0.6), spokes2(vec2(pos.x + 0.0, pos.y+ 0.6),2.208), 20.0, 1.0);\n    color+=gear2(vec2(pos.x - 1.2, pos.y+ 0.6), spokes3(vec2(pos.x - 1.2, pos.y+ 0.6),0.632), 40.0, 1.3);\n    color+=gear2(vec2(pos.x + 1.2, pos.y+ 0.0), spokes1(vec2(pos.x + 1.2, pos.y+ 0.0),2.208*2.0), 20.0, 1.4);\n    color+=gear2(vec2(pos.x + 0.0, pos.y+ 0.0), spokes2(vec2(pos.x + 0.0, pos.y+ 0.0),2.208), 5.0, 2.4);\n    color+=gear2(vec2(pos.x - 1.2, pos.y+ 0.0), spokes3(vec2(pos.x - 1.2, pos.y+ 0.0),0.632), 25.0, 1.9);\n    color+=gear2(vec2(pos.x + 1.2, pos.y- 0.6), spokes1(vec2(pos.x + 1.2, pos.y- 0.6),2.208), 35.0, 1.1);\n    color+=gear2(vec2(pos.x + 0.0, pos.y- 0.6), spokes2(vec2(pos.x + 0.0, pos.y- 0.6),2.208), 15.0, 1.7);\n    color+=gear2(vec2(pos.x - 1.2, pos.y- 0.6), spokes3(vec2(pos.x - 1.2, pos.y- 0.6),0.632), 3.0, 1.4);\n   \n    \n    \n\tfragColor = vec4(color,1.0);\n}", "name": "Image", "description": "", "type": "image"}]}