{"ver":"0.1","info":{"id":"Xdd3DB","date":"1452030051","viewed":1042,"name":"Deformation Feedback","username":"iq","description":"The old-school effect from the PC demos of the 90s [url]http://iquilezles.org/www/articles/feedbackfx/feedbackfx.htm[/url]","likes":27,"published":3,"flags":32,"tags":[]},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"// Created by inigo quilez - iq/2016\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0\n\n\n// The old school demoscene effect, deformation feedback. An article from 2002\n// describing it: http://iquilezles.org/www/articles/feedbackfx/feedbackfx.htm\n\nconst float th = 0.06;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 q = fragCoord/iResolution.xy;\n\n\tfragColor = texture( iChannel0, 0.5+(q-0.5)*(1.0-2.0*th) );\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XsfGRn","filepath":"/media/a/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg","previewfilepath":"/media/ap/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"// Created by inigo quilez - iq/2016\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0\n\n\n// The old school demoscene effect, deformation feedback. An article from 2002\n// describing it: http://iquilezles.org/www/articles/feedbackfx/feedbackfx.htm\n\nconst float th = 0.06;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // coords\n    vec2 p = (2.0*fragCoord-iResolution.xy)/iResolution.y;\n    \n    // deformation\n    vec2 uv0 = p/dot(p,p) + cos( 0.25*iTime + vec2(2.0,1.0));\n    vec2 uv1 = fragCoord/iResolution.xy;\n\n    // textures\n    vec3 te1 = texture(iChannel0,fract(uv0)).xyz;\n    vec3 te2 = texture(iChannel1,   0.5*uv1).xyz;\n\n    // select color\n    vec3 col = (max(abs(uv1.x-0.5),abs(uv1.y-0.5)) < (0.5-th)) \n        ?\n        0.7*vec3(1.0,0.9,0.7)*te1 \n        : \n        1.2*vec3(0.9,0.9,1.2)*sqrt(te2);\n    \n    // darken\n    col *= min(1.5*length(p),1.0);\n\n    // output\n\tfragColor = vec4(col,1.0);\n}","name":"Buffer A","description":"","type":"buffer"}]}