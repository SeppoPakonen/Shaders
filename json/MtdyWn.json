{"ver":"0.1","info":{"id":"MtdyWn","date":"1532277960","viewed":52,"name":"Binocular fractal","username":"mackycheese21","description":"http://paulbourke.net/fractals/binocular/index.html","likes":2,"published":1,"flags":0,"tags":[]},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float px_x=fragCoord.x;\n    float px_y=fragCoord.y;\n    float diff=iResolution.x-iResolution.y;\n    float range=2.0;\n    float x=map(px_x,diff*0.5,iResolution.x-diff*0.5,-range,range);\n    float y=map(px_y,0.0,iResolution.y,-range,range);\n    float cx=map(iMouse.x,0.0,iResolution.x,-2.0,2.0);\n    float cy=map(iMouse.y,0.0,iResolution.y,-2.0,2.0);\n    int i=0;\n\n    vec2 z=vec2(x,y);\n    vec2 z0=z;\n    \n    float m=iMouse.x/50.0;\n\n    for(i=0;i<100&&length(z)<2.0;i++){\n        vec2 a=cpow(z,m)+cpow(z,2.0)+vec2(1.0,0.0);\n        vec2 b=2.0*cpow(z,m-1.0)-z0+vec2(1.0,0.0);\n        z=cdiv(a,b);\n    }\n    \n    fragColor=vec4(hsv2rgb(vec3(float(i)/100.0,0.5,1.0)),1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"float lerp(float t,float a,float b){\n    return a+(b-a)*t;\n}\nfloat norm(float t,float a,float b){\n    return (t-a)/(b-a);\n}\nfloat map(float t,float e1,float s1,float e2,float s2){\n    return lerp(norm(t,e1,s1),e2,s2);\n}\nvec3 hsv2rgb(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec2 cpow(vec2 v,float p){\n    float theta=atan(v.y/v.x);\n    float r=length(v);\n    theta*=p;\n    r=pow(r,p);\n    return vec2(cos(theta),sin(theta))*r;\n}\n\n//(a+bi)(x+yi)\n//ax-by+bxi+ayi\nvec2 cmult(vec2 v1,vec2 v2){\n    float a=v1.x;\n    float b=v1.y;\n    float x=v2.x;\n    float y=v2.y;\n    return vec2(a*x-b*y,b*x+a*y);\n}\n\nvec2 cdiv(vec2 v1,vec2 v2){\n    return cmult(v1,cpow(v2,-1.0));\n}\nvec2 ccos(vec2 v){\n    return vec2(cos(v.x)*cosh(v.y),-sin(v.x)*sinh(v.y));\n}","name":"Common","description":"","type":"common"}]}