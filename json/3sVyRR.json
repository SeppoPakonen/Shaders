{"ver": "0.1", "info": {"id": "3sVyRR", "date": "1602118840", "viewed": 135, "name": "Music Visualizer by PotatMun", "username": "PotatMun", "description": "Visualizes music from SoundCloud.\n\nWorks with any song on SoundCloud!\n\nPolar Coordinate code source: https://gist.github.com/KeyMaster-/70c13961a6ed65b6677d\n", "likes": 0, "published": 3, "flags": 64, "usePreview": 0, "tags": ["music_visualizer"], "requires": ["musicstreambuf", "imagebuf"]}, "renderpass": [{"inputs": [{"id": "XlB3D3", "filepath": "https://soundcloud.com/roadrunner-usa/constant-motion-1", "previewfilepath": "https://soundcloud.com/roadrunner-usa/constant-motion-1", "type": "musicstream", "channel": 0, "sampler": {"filter": "linear", "wrap": "clamp", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 0}], "outputs": [{"id": "4dfGRr", "channel": 0}], "code": "//Better performance\n//#define SONG_LIMIT 1.\n\n//More activity in visuals\n#define SONG_LIMIT mod(1. + sin(iTime), 1.)\n//#define BACKGROUND_SEED iTime\n\n//More activity, and can either affect performance more or less than\n// using the above definition for BACKGROUND_SEED.\n#define BACKGROUND_SEED SONG_LIMIT\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 cart = fragCoord.xy - (iResolution.xy / 2.);\n    vec2 polar;\n    polar.y = sqrt(pow(cart.x, 2.) + pow(cart.y, 2.)) / (iResolution.x / 2.);\n    polar.y = 1.0 - polar.y;\n\n    polar.x = atan(cart.y, (cart.x));\n    polar.x -= 1.57079632679;\n    if(polar.x < 0.0) polar.x += 6.28318530718;\n    polar.x /= 6.28318530718;\n    polar.x = 1.0 - polar.x;\n    \n    vec4 c = texture(iChannel0, vec2(polar.x, 0.));\n    if (polar.y > c.r) {\n        //Better performance\n        //c.r = 0.;\n        \n        //More active visuals.\n        c.rgb = vec3(mod(BACKGROUND_SEED, 1.));\n        c.rg += abs(sin(iTime) - 0.1);\n        c.gb += abs(cos(iTime) - 0.1);\n    } else if (c.r < 1./SONG_LIMIT) {\n        if (c.r > 0.35/SONG_LIMIT) c.g = 1. - c.r;\n        c.b = 1. - c.r - c.g;\n    }\n\tfragColor = vec4(c);\n}", "name": "Image", "description": "", "type": "image"}]}