{"ver": "0.1", "info": {"id": "4sycRW", "date": "1521322221", "viewed": 599, "name": "Solar Flare", "username": "Xor", "description": "I was playing around with my [url=https://www.shadertoy.com/view/4d2fzw]eclipse shader[/url] and came up with this. What do you think?", "likes": 10, "published": 1, "flags": 0, "tags": ["flare"], "requires": ["texture", "imagebuf", "texturebuf"]}, "renderpass": [{"inputs": [{"id": "XsX3Rn", "filepath": "/media/a/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg", "previewfilepath": "/media/ap/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg", "type": "texture", "channel": 0, "sampler": {"filter": "mipmap", "wrap": "repeat", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 1}], "outputs": [{"id": "4dfGRr", "channel": 0}], "code": "void mainImage(out vec4 O,vec2 I)\n{\n    O = vec4(0);\n    //Centered coordinates.\n    vec2 P = (I-.5*iResolution.xy)*2.2/iResolution.y;\n    //Iterate for radius.\n    for(float i = 1.;i<1.7;i+=.01)\n    {\n        //Calculate twisting sphere rays.\n        vec3 R = vec3(P,sqrt(i-dot(P,P)));\n        R.xy *= mat2(cos(i*.1),sin(i*.1),sin(i*.1),-cos(i*.1));\n        //Add light rays.\n    \tO += .025*pow(texture(iChannel0,R.xy/sqrt(R.z)-.1*iTime),vec4(i*4.-3.));\n    }\n    //Create edge glow and attenuation in space.\n\tO *= vec4(.65,.4,.25,1)/(abs(dot(P,P)-1.)+.2),pow(1.-sqrt(max(1.-dot(P,P),0.)),2.);\n    //Calculate disk distance for solar flares.\n    float D = 1.5-length(P+P.y*.4+.1*cos(P.x*6.+.2*iTime));\n    \n    //Added center glow.\n    O += vec4(2,1,.5,0)*(exp(-dot(P,P)) +\n\t//Calculate the solar flares.\n    .1*smoothstep(.8,1.,cos(iTime/8.+P.x+P.y*.4))*(cos(P.y*8.+iTime)*.3+.7)*exp(cos(P.x+P.y*.4+iTime)\n    -10.*abs((cos(D*38.+P.x*17.+2.*iTime)*.1+.9)*D)));\n}", "name": "Image", "description": "", "type": "image"}]}