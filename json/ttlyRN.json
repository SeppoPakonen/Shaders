{"ver":"0.1","info":{"id":"ttlyRN","date":"1591590565","viewed":120,"name":"Color Swatch Generator","username":"granito","description":"a basic color swatch generator for designers. controls can be found in 'common' tab.","likes":3,"published":3,"flags":0,"tags":[]},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    float aspect = iResolution.y / iResolution.x * float(numcolors); \n    \n    float voffset = floor(uv.x * float(numcolors)) / float(numcolors-1) * 2. - 1.;\n    \n    float hue, saturation, value;\n    \n    if (animated == 1) \n    {\t\n        float T = iTime * 3.1415 + 6.;\n        hue = fract(T*0.05) + voffset * (sin(T*0.1) * 0.15 + 0.1);\n        saturation = (sin(T*0.3)*0.3+0.4) + voffset * sin(T*0.15) * 0.6;\n        value = (sin(T*0.4)*0.15+0.4) + voffset * sin(T*0.2) * 0.3;    \n    }\n    else\n    {\n        hue = h_pos + voffset * h_width;\n        saturation = s_pos + voffset * s_width;\n        value = v_pos + voffset * v_width;\n    }\n    \n    vec3 col = hsv2rgb( vec3( hue, saturation, value) );\n                       \n    col = mix( vec3(0.25), col, vec3(swatchmask(uv, aspect)) );\n                       \n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"// set to '0' for manual controls\n#define animated 1 \n\n//number of swatches\nconst int numcolors = 7;\n\n//manual controls\n\n    //initial value\n    const float h_pos = 0.5;\n    const float s_pos = 0.5;\n    const float v_pos = 0.5;\n\n    //swatch width\n    const float h_width = 0.2;\n    const float s_width = 0.3;\n    const float v_width = 0.4;\n\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nfloat swatchmask(vec2 uv, float aspect)\n{\n    vec2 swatchuv = vec2( fract(uv.x * float(numcolors)), (uv.y - 0.5) * aspect + 0.5);\n    float swatchmask = 1.- abs(swatchuv.x * 2. - 1.);\n    swatchmask = min(swatchmask, 1. - abs(swatchuv.y * 2. - 1.));\n    swatchmask = ceil(swatchmask-0.05); \n    return clamp(swatchmask, 0., 1.);\n}\n","name":"Common","description":"","type":"common"}]}