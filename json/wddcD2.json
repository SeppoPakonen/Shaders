{"ver": "0.1", "info": {"id": "wddcD2", "date": "1601816043", "viewed": 50, "name": "4 Ways to make a Vignette Filter", "username": "Tech_", "description": "Here are 4 ways how I create Vignette Filters! Enjoy! Take a look at the defines to enable the available vignette filters!", "likes": 1, "published": 1, "flags": 0, "tags": ["vignette"], "requires": ["texture", "imagebuf", "texturebuf"]}, "renderpass": [{"inputs": [{"id": "4sXGRn", "filepath": "/media/a/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg", "previewfilepath": "/media/ap/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg", "type": "texture", "channel": 0, "sampler": {"filter": "mipmap", "wrap": "repeat", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 1}], "outputs": [{"id": "4dfGRr", "channel": 0}], "code": "\n//////////////////////////////////////////////\n//\n//\t TOP 4 WAYS TO MAKE A VIGNETTE FILTER\n//\n//   CREDITS:\n//\t  \n//   SimpleVignette: Tech_\n//   DistanceVignette: Tech_\n//   BorderVignette: Ippokratis (https://www.shadertoy.com/view/lsKSWR)\n//   NaturalVignette: ApoorvaJ (https://www.shadertoy.com/view/4lSXDm)\n//\n//////////////////////////////////////////////\n\n//////////////////////////////////////////////\n\n#define SIMPLE_VIGNETTE_ENABLED true\n#define DISTANCE_VIGNETTE_ENABLED false\n#define BORDER_VIGNETTE_ENABLED false\n#define NATURAL_VIGNETTE_ENABLED false\n\n//////////////////////////////////////////////\n\nvec3 SimpleVignette(vec3 color, vec2 uv, float amount) \n{\n    float w = 1.;\n    uv = -1. + 2. * uv;\n    amount *= -1.;\n    amount += 1.;\n    w = clamp(cos(uv.x) * cos(uv.y) + amount, 0., 1.);\n    return color * w;\n}\n\nvec3 DistanceVignette(in vec3 color, in vec2 uv, float amount) \n{\n    amount = clamp(amount, 0., 1.);\n    return (1. - distance(uv * amount, vec2(0.5 * amount))) * color;\n}\n\nvec3 BorderVignette(in vec3 color, in vec2 uv, float amount) \n{\n\tuv *=  1.0 - uv.yx;\n    float vig = uv.x*uv.y * 15.0;\n    return pow(vig, amount / 6.) * color;\n}\n\nvec3 NaturalVignette(in vec3 color, in vec2 uv, float amount) \n{\n    vec2 coord = (uv - 0.5) * (iResolution.x/iResolution.y) * 2.0;\n    float rf = sqrt(dot(coord, coord)) * amount / 3.;\n    float rf2_1 = rf * rf + 1.0;\n    float vig = 1.0 / (rf2_1 * rf2_1);\n    return color * vig;\n}\n                       \nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord / iResolution.xy;\n    \n    // Loading Texture\n    vec3 col = texture(iChannel0, uv + iTime / 20.).rgb;\n    \n    // Applying Vignette/s of choice\n    \n    if(SIMPLE_VIGNETTE_ENABLED) \n    {\n    \tcol = SimpleVignette(col, uv, 1.);\n    }\n    if(DISTANCE_VIGNETTE_ENABLED) \n    {\n    \tcol = DistanceVignette(col, uv, 1.);\n    }\n    if(BORDER_VIGNETTE_ENABLED) \n    {\n    \tcol = BorderVignette(col, uv, 1.);\n    }\n    if(NATURAL_VIGNETTE_ENABLED) \n    {\n    \tcol = NaturalVignette(col, uv, 1.);\n    }\n    \n    fragColor = vec4(col,1.0);\n}", "name": "Image", "description": "", "type": "image"}]}