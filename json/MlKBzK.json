{"ver": "0.1", "info": {"id": "MlKBzK", "date": "1543261125", "viewed": 86, "name": "Nyaned Julia Set", "username": "mackycheese21", "description": "I took a julia set, applied a mobius transform, and used the resulting value as a texture coordinate, horrifying mathematicians and computer scientists alike.  The three commented-out lines at the end of the Image tab are cool as well.  Try in fullscreen!", "likes": 5, "published": 1, "flags": 0, "tags": ["nyan"], "requires": ["texture", "imagebuf", "library", "texturebuf"]}, "renderpass": [{"inputs": [{"id": "Xsf3Rn", "filepath": "/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png", "previewfilepath": "/media/ap/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png", "type": "texture", "channel": 0, "sampler": {"filter": "mipmap", "wrap": "repeat", "vflip": "true", "srgb": "false", "internal": "byte"}, "published": 1}], "outputs": [{"id": "4dfGRr", "channel": 0}], "code": "vec3 domain_color(vec2 p){\n    float H=0.5+0.5*cos(p.y);\n    float S=pow(2.0,-p.x);\n    float V=1.0;\n    return hsv2rgb(H,S,V);\n}\n\nvec2 mapuv(vec2 v){\n    v/=R;\n    v*=2.0;\n    v-=1.0;\n    v.x*=R.x/R.y;\n    return v*1.2;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = mapuv(fragCoord);\n    vec2 mouse=mapuv(M);\n    \n    vec2 p=c2p(uv);\n    vec2 p0=p;\n    vec2 mousep=c2p(vec2(0.37,0.119));\n    for(int i=0;i<15;i++){\n        p=padd(mousep,pmult(p,p));\n    }\n    p=pdiv(padd(p,mousep),padd(p,p2c(vec2(3.0*cos(T),2.0*sin(T*0.3)))));\n    \n    //fragColor=vec4(domain_color(p),1.0);\n\t//fragColor=vec4(vec3(smoothgrid(p2c(p),0.1)),1.0);\n    vec2 newuv=p2c(p);\n    vec2 n_uv=newuv;\n    //vec2 n_uv=mod(newuv,vec2(1.0/6.0,1.0));\n    //n_uv+=iTime*vec2(1.0/6.4,1.0);\n    //fragColor=getNyanAt(p,vec2(0.0),1.0);\n    fragColor=texture(iChannel0,p);\n}", "name": "Image", "description": "", "type": "image"}, {"inputs": [], "outputs": [], "code": "#define T iTime\n#define R iResolution.xy\n#define M iMouse.xy\n\nvec3 hsv2rgb(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec3 hsv2rgb(float h,float s,float v){\n    return hsv2rgb(vec3(h,s,v));\n}\n\n//x,y\n//r,theta\nvec2 c2p(vec2 c){\n    return vec2(length(c),atan(c.y,c.x));\n}\nvec2 p2c(vec2 p){\n    return p.x*vec2(cos(p.y),sin(p.y));\n}\n\nvec2 pmult(vec2 a,vec2 b){\n    return vec2(a.x*b.x,a.y+b.y);\n}\n\nvec2 pdiv(vec2 a,vec2 b){\n    return vec2(a.x/b.x,a.y-b.y);\n}\n\nvec2 padd(vec2 a,vec2 b){\n    return c2p(p2c(a)+p2c(b));\n}\n\nvec2 psub(vec2 a,vec2 b){\n    return c2p(p2c(a)-p2c(b));\n}\n\nvec2 ppow(vec2 p,float f){\n    return vec2(pow(p.x,f),p.y*f);\n}\n\nvec2 pmult(vec2 p,float f){\n    return vec2(p.x*f,p.y);\n}\n\nfloat smoothgrid(vec2 p,float m){\n    p=mod(p,1.0);\n    float d=min(p.x,p.y);\n    //return d<m?0.0:1.0;\n    return smoothstep(d,m-0.01,m+0.01);\n}", "name": "Common", "description": "", "type": "common"}]}