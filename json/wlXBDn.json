{"ver":"0.1","info":{"id":"wlXBDn","date":"1596462346","viewed":144,"name":"Playing with waves","username":"cambalamas","description":"sin, cos, basics","likes":2,"published":3,"flags":0,"tags":[]},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float pi = 3.14159265358979323846264338327950288;\n\n#define ANIMATE_ZOOM\n//#define ANIMATE_ROTATION\n\n\n// -----------------------------------------------------------------------\n\nfloat map(in float v, in float i, in float I, in float o, in float O) {\n    return o + (O-o) * (v-i) / (I-i);\n}\nvec3 uClamp(in vec3 v) {\n    return clamp(vec3(0.), vec3(1.), v);\n}\nfloat uClamp(in float v) {\n    return clamp(0., 1., v);\n}\n\n// -----------------------------------------------------------------------\n\nfloat fleur(in float t, in vec2 p, in float n) {\n    float r = length(p);\n    float a = atan(p.x, p.y);\n    \n#ifdef ANIMATE_ZOOM\n    float rn = mix(0., 2., cos(t*0.15 + sin(t*0.1))) * r * pi;\n#else\n    float rn = 3. * r * pi;\n#endif\n    float an = n * a;\n    \n    float w = sin(t + an + cos(t + rn));\n    float e = cos(t - rn  + sin(t + an - w) - w) + w * w;\n    \n    return e;\n}\n\n\n// -----------------------------------------------------------------------\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float t = iTime;\n    vec2 uv = (fragCoord / iResolution.xy);\n    float noise = texture(iChannel0, uv).x;\n    \n    float e = 0.;\n    vec2 p = uv * 2. - 1.;\n    float tails = 1.;\n\n    e += fleur(t, p + vec2(0.,0.)  , tails);\n    e /= fleur(t, p + vec2(-0.0,0.), tails);\n    e /= fleur(t, p + vec2(-0.0,0.), tails);\n\n    //e = e + smoothstep(0., e, t);\n    \n    float l1 = ( e*3. );\n    float l2 = ( abs(e) - e );\n    float l3 = ( 1. - e*10. );\n    \n    vec3 cl1 = vec3(0.0, 0.06, 0.08);\n    vec3 cl2 = vec3(0.1, 0.14, 0.2);\n    vec3 cl3 = vec3(0.3, 0., 0.);\n    \n    fragColor = vec4(\n        l1*cl1.r + l2*cl2.r + l3*cl3.r, // R\n        l1*cl1.g + l2*cl2.g + l3*cl3.g, // G\n        l1*cl1.b + l2*cl2.b + l3*cl3.b, // B\n        1.                              // A\n    );\n    \n}","name":"Image","description":"","type":"image"}]}